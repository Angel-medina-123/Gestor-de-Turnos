function Lm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pc={exports:{}},xi={},Rc={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=Symbol.for("react.element"),Fm=Symbol.for("react.portal"),Vm=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Bm=Symbol.for("react.context"),zm=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Jm=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),Fa=Symbol.iterator;function Wm(e){return e===null||typeof e!="object"?null:(e=Fa&&e[Fa]||e["@@iterator"],typeof e=="function"?e:null)}var Mc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dc=Object.assign,Lc={};function ar(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Mc}ar.prototype.isReactComponent={};ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uc(){}Uc.prototype=ar.prototype;function kl(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Mc}var Pl=kl.prototype=new Uc;Pl.constructor=kl;Dc(Pl,ar.prototype);Pl.isPureReactComponent=!0;var Va=Array.isArray,Fc=Object.prototype.hasOwnProperty,Rl={current:null},Vc={key:!0,ref:!0,__self:!0,__source:!0};function Gc(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Fc.call(t,r)&&!Vc.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];o.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:no,type:e,key:i,ref:l,props:o,_owner:Rl.current}}function Km(e,t){return{$$typeof:no,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ml(e){return typeof e=="object"&&e!==null&&e.$$typeof===no}function Ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ga=/\/+/g;function Yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ym(""+e.key):t.toString(36)}function Do(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case no:case Fm:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Yi(l,0):r,Va(o)?(n="",e!=null&&(n=e.replace(Ga,"$&/")+"/"),Do(o,t,n,"",function(c){return c})):o!=null&&(Ml(o)&&(o=Km(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Ga,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",Va(e))for(var u=0;u<e.length;u++){i=e[u];var d=r+Yi(i,u);l+=Do(i,t,n,d,o)}else if(d=Wm(e),typeof d=="function")for(e=d.call(e),u=0;!(i=e.next()).done;)i=i.value,d=r+Yi(i,u++),l+=Do(i,t,n,d,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ho(e,t,n){if(e==null)return e;var r=[],o=0;return Do(e,r,"","",function(i){return t.call(n,i,o++)}),r}function bm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Lo={transition:null},Qm={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:Rl};function Hc(){throw Error("act(...) is not supported in production builds of React.")}O.Children={map:ho,forEach:function(e,t,n){ho(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ho(e,function(){t++}),t},toArray:function(e){return ho(e,function(t){return t})||[]},only:function(e){if(!Ml(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};O.Component=ar;O.Fragment=Vm;O.Profiler=Hm;O.PureComponent=kl;O.StrictMode=Gm;O.Suspense=$m;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm;O.act=Hc;O.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dc({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Rl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Fc.call(t,d)&&!Vc.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:no,type:e.type,key:o,ref:i,props:r,_owner:l}};O.createContext=function(e){return e={$$typeof:Bm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qm,_context:e},e.Consumer=e};O.createElement=Gc;O.createFactory=function(e){var t=Gc.bind(null,e);return t.type=e,t};O.createRef=function(){return{current:null}};O.forwardRef=function(e){return{$$typeof:zm,render:e}};O.isValidElement=Ml;O.lazy=function(e){return{$$typeof:Om,_payload:{_status:-1,_result:e},_init:bm}};O.memo=function(e,t){return{$$typeof:Jm,type:e,compare:t===void 0?null:t}};O.startTransition=function(e){var t=Lo.transition;Lo.transition={};try{e()}finally{Lo.transition=t}};O.unstable_act=Hc;O.useCallback=function(e,t){return Ve.current.useCallback(e,t)};O.useContext=function(e){return Ve.current.useContext(e)};O.useDebugValue=function(){};O.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};O.useEffect=function(e,t){return Ve.current.useEffect(e,t)};O.useId=function(){return Ve.current.useId()};O.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};O.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};O.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};O.useMemo=function(e,t){return Ve.current.useMemo(e,t)};O.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};O.useRef=function(e){return Ve.current.useRef(e)};O.useState=function(e){return Ve.current.useState(e)};O.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};O.useTransition=function(){return Ve.current.useTransition()};O.version="18.3.1";Rc.exports=O;var w=Rc.exports;const Dl=Um(w),Xm=Lm({__proto__:null,default:Dl},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=w,jm=Symbol.for("react.element"),eh=Symbol.for("react.fragment"),th=Object.prototype.hasOwnProperty,nh=Zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rh={key:!0,ref:!0,__self:!0,__source:!0};function qc(e,t,n){var r,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)th.call(t,r)&&!rh.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:jm,type:e,key:i,ref:l,props:o,_owner:nh.current}}xi.Fragment=eh;xi.jsx=qc;xi.jsxs=qc;Pc.exports=xi;var h=Pc.exports,ws={},Bc={exports:{}},Xe={},zc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var $=R.length;R.push(B);e:for(;0<$;){var Q=$-1>>>1,ee=R[Q];if(0<o(ee,B))R[Q]=B,R[$]=ee,$=Q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],$=R.pop();if($!==B){R[0]=$;e:for(var Q=0,ee=R.length,ye=ee>>>1;Q<ye;){var De=2*(Q+1)-1,Vt=R[De],at=De+1,yt=R[at];if(0>o(Vt,$))at<ee&&0>o(yt,Vt)?(R[Q]=yt,R[at]=$,Q=at):(R[Q]=Vt,R[De]=$,Q=De);else if(at<ee&&0>o(yt,$))R[Q]=yt,R[at]=$,Q=at;else break e}}return B}function o(R,B){var $=R.sortIndex-B.sortIndex;return $!==0?$:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],c=[],f=1,p=null,m=3,y=!1,E=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=R)r(c),B.sortIndex=B.expirationTime,t(d,B);else break;B=n(c)}}function S(R){if(C=!1,v(R),!E)if(n(d)!==null)E=!0,me(I);else{var B=n(c);B!==null&&q(S,B.startTime-R)}}function I(R,B){E=!1,C&&(C=!1,T(A),A=-1),y=!0;var $=m;try{for(v(B),p=n(d);p!==null&&(!(p.expirationTime>B)||R&&!W());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var ee=Q(p.expirationTime<=B);B=e.unstable_now(),typeof ee=="function"?p.callback=ee:p===n(d)&&r(d),v(B)}else r(d);p=n(d)}if(p!==null)var ye=!0;else{var De=n(c);De!==null&&q(S,De.startTime-B),ye=!1}return ye}finally{p=null,m=$,y=!1}}var N=!1,k=null,A=-1,U=5,D=-1;function W(){return!(e.unstable_now()-D<U)}function J(){if(k!==null){var R=e.unstable_now();D=R;var B=!0;try{B=k(!0,R)}finally{B?fe():(N=!1,k=null)}}else N=!1}var fe;if(typeof g=="function")fe=function(){g(J)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,He=lt.port2;lt.port1.onmessage=J,fe=function(){He.postMessage(null)}}else fe=function(){x(J,0)};function me(R){k=R,N||(N=!0,fe())}function q(R,B){A=x(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){E||y||(E=!0,me(I))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var $=m;m=B;try{return R()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=m;m=R;try{return B()}finally{m=$}},e.unstable_scheduleCallback=function(R,B,$){var Q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,R={id:f++,callback:B,priorityLevel:R,startTime:$,expirationTime:ee,sortIndex:-1},$>Q?(R.sortIndex=$,t(c,R),n(d)===null&&R===n(c)&&(C?(T(A),A=-1):C=!0,q(S,$-Q))):(R.sortIndex=ee,t(d,R),E||y||(E=!0,me(I))),R},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(R){var B=m;return function(){var $=m;m=B;try{return R.apply(this,arguments)}finally{m=$}}}})($c);zc.exports=$c;var oh=zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=w,Qe=oh;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jc=new Set,Vr={};function wn(e,t){tr(e,t),tr(e+"Capture",t)}function tr(e,t){for(Vr[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=Object.prototype.hasOwnProperty,sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ha={},qa={};function lh(e){return Is.call(qa,e)?!0:Is.call(Ha,e)?!1:sh.test(e)?qa[e]=!0:(Ha[e]=!0,!1)}function ah(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uh(e,t,n,r){if(t===null||typeof t>"u"||ah(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function Ul(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ll,Ul);Ie[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ll,Ul);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ll,Ul);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fl(e,t,n,r){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uh(t,n,o,r)&&(n=null),r||o===null?lh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),Ns=Symbol.for("react.profiler"),Oc=Symbol.for("react.provider"),Wc=Symbol.for("react.context"),Gl=Symbol.for("react.forward_ref"),As=Symbol.for("react.suspense"),ks=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),Ba=Symbol.iterator;function mr(e){return e===null||typeof e!="object"?null:(e=Ba&&e[Ba]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,bi;function _r(e){if(bi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bi=t&&t[1]||""}return`
`+bi+e}var Qi=!1;function Xi(e,t){if(!e||Qi)return"";Qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,u=i.length-1;1<=l&&0<=u&&o[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==i[u]){var d=`
`+o[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{Qi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function dh(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=Xi(e.type,!1),e;case 11:return e=Xi(e.type.render,!1),e;case 1:return e=Xi(e.type,!0),e;default:return""}}function Ps(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dn:return"Fragment";case Mn:return"Portal";case Ns:return"Profiler";case Vl:return"StrictMode";case As:return"Suspense";case ks:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wc:return(e.displayName||"Context")+".Consumer";case Oc:return(e._context.displayName||"Context")+".Provider";case Gl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hl:return t=e.displayName||null,t!==null?t:Ps(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Ps(e(t))}catch{}}return null}function ch(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ps(t);case 8:return t===Vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fh(e){var t=Yc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){e._valueTracker||(e._valueTracker=fh(e))}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rs(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function za(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qc(e,t){t=t.checked,t!=null&&Fl(e,"checked",t,!1)}function Ms(e,t){Qc(e,t);var n=tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ds(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ds(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $a(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ds(e,t,n){(t!=="number"||bo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xr=Array.isArray;function Wn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ls(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ja(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(xr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function Xc(e,t){var n=tn(t.value),r=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Oa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Us(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vo,jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ph=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){ph.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function ef(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function tf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ef(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var mh=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fs(e,t){if(t){if(mh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Vs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,Kn=null,Yn=null;function Wa(e){if(e=io(e)){if(typeof Hs!="function")throw Error(P(280));var t=e.stateNode;t&&(t=ki(t),Hs(e.stateNode,e.type,t))}}function nf(e){Kn?Yn?Yn.push(e):Yn=[e]:Kn=e}function rf(){if(Kn){var e=Kn,t=Yn;if(Yn=Kn=null,Wa(e),t)for(e=0;e<t.length;e++)Wa(t[e])}}function of(e,t){return e(t)}function sf(){}var Zi=!1;function lf(e,t,n){if(Zi)return e(t,n);Zi=!0;try{return of(e,t,n)}finally{Zi=!1,(Kn!==null||Yn!==null)&&(sf(),rf())}}function Hr(e,t){var n=e.stateNode;if(n===null)return null;var r=ki(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var qs=!1;if(kt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){qs=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{qs=!1}function hh(e,t,n,r,o,i,l,u,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Ar=!1,Qo=null,Xo=!1,Bs=null,gh={onError:function(e){Ar=!0,Qo=e}};function yh(e,t,n,r,o,i,l,u,d){Ar=!1,Qo=null,hh.apply(gh,arguments)}function vh(e,t,n,r,o,i,l,u,d){if(yh.apply(this,arguments),Ar){if(Ar){var c=Qo;Ar=!1,Qo=null}else throw Error(P(198));Xo||(Xo=!0,Bs=c)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function af(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ka(e){if(In(e)!==e)throw Error(P(188))}function Th(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ka(o),e;if(i===r)return Ka(o),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function uf(e){return e=Th(e),e!==null?df(e):null}function df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=df(e);if(t!==null)return t;e=e.sibling}return null}var cf=Qe.unstable_scheduleCallback,Ya=Qe.unstable_cancelCallback,Eh=Qe.unstable_shouldYield,Ch=Qe.unstable_requestPaint,pe=Qe.unstable_now,Sh=Qe.unstable_getCurrentPriorityLevel,Bl=Qe.unstable_ImmediatePriority,ff=Qe.unstable_UserBlockingPriority,Zo=Qe.unstable_NormalPriority,_h=Qe.unstable_LowPriority,pf=Qe.unstable_IdlePriority,wi=null,Ct=null;function xh(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(wi,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Nh,wh=Math.log,Ih=Math.LN2;function Nh(e){return e>>>=0,e===0?32:31-(wh(e)/Ih|0)|0}var To=64,Eo=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~o;u!==0?r=wr(u):(i&=l,i!==0&&(r=wr(i)))}else l=n&~o,l!==0?r=wr(l):i!==0&&(r=wr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pt(t),o=1<<n,r|=e[n],t&=~o;return r}function Ah(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-pt(i),u=1<<l,d=o[l];d===-1?(!(u&n)||u&r)&&(o[l]=Ah(u,t)):d<=t&&(e.expiredLanes|=u),i&=~u}}function zs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mf(){var e=To;return To<<=1,!(To&4194240)&&(To=64),e}function ji(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Ph(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-pt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function zl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Z=0;function hf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gf,$l,yf,vf,Tf,$s=!1,Co=[],Kt=null,Yt=null,bt=null,qr=new Map,Br=new Map,Bt=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function gr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=io(t),t!==null&&$l(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Mh(e,t,n,r,o){switch(t){case"focusin":return Kt=gr(Kt,e,t,n,r,o),!0;case"dragenter":return Yt=gr(Yt,e,t,n,r,o),!0;case"mouseover":return bt=gr(bt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return qr.set(i,gr(qr.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Br.set(i,gr(Br.get(i)||null,e,t,n,r,o)),!0}return!1}function Ef(e){var t=mn(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=af(n),t!==null){e.blockedOn=t,Tf(e.priority,function(){yf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Js(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gs=r,n.target.dispatchEvent(r),Gs=null}else return t=io(n),t!==null&&$l(t),e.blockedOn=n,!1;t.shift()}return!0}function Qa(e,t,n){Uo(e)&&n.delete(t)}function Dh(){$s=!1,Kt!==null&&Uo(Kt)&&(Kt=null),Yt!==null&&Uo(Yt)&&(Yt=null),bt!==null&&Uo(bt)&&(bt=null),qr.forEach(Qa),Br.forEach(Qa)}function yr(e,t){e.blockedOn===t&&(e.blockedOn=null,$s||($s=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Dh)))}function zr(e){function t(o){return yr(o,e)}if(0<Co.length){yr(Co[0],e);for(var n=1;n<Co.length;n++){var r=Co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kt!==null&&yr(Kt,e),Yt!==null&&yr(Yt,e),bt!==null&&yr(bt,e),qr.forEach(t),Br.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)Ef(n),n.blockedOn===null&&Bt.shift()}var bn=Lt.ReactCurrentBatchConfig,ei=!0;function Lh(e,t,n,r){var o=Z,i=bn.transition;bn.transition=null;try{Z=1,Jl(e,t,n,r)}finally{Z=o,bn.transition=i}}function Uh(e,t,n,r){var o=Z,i=bn.transition;bn.transition=null;try{Z=4,Jl(e,t,n,r)}finally{Z=o,bn.transition=i}}function Jl(e,t,n,r){if(ei){var o=Js(e,t,n,r);if(o===null)us(e,t,r,ti,n),ba(e,r);else if(Mh(o,e,t,n,r))r.stopPropagation();else if(ba(e,r),t&4&&-1<Rh.indexOf(e)){for(;o!==null;){var i=io(o);if(i!==null&&gf(i),i=Js(e,t,n,r),i===null&&us(e,t,r,ti,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else us(e,t,r,null,n)}}var ti=null;function Js(e,t,n,r){if(ti=null,e=ql(r),e=mn(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=af(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function Cf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sh()){case Bl:return 1;case ff:return 4;case Zo:case _h:return 16;case pf:return 536870912;default:return 16}default:return 16}}var $t=null,Ol=null,Fo=null;function Sf(){if(Fo)return Fo;var e,t=Ol,n=t.length,r,o="value"in $t?$t.value:$t.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return Fo=o.slice(e,1<r?1-r:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function Xa(){return!1}function Ze(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?So:Xa,this.isPropagationStopped=Xa,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=Ze(ur),oo=ue({},ur,{view:0,detail:0}),Fh=Ze(oo),es,ts,vr,Ii=ue({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(es=e.screenX-vr.screenX,ts=e.screenY-vr.screenY):ts=es=0,vr=e),es)},movementY:function(e){return"movementY"in e?e.movementY:ts}}),Za=Ze(Ii),Vh=ue({},Ii,{dataTransfer:0}),Gh=Ze(Vh),Hh=ue({},oo,{relatedTarget:0}),ns=Ze(Hh),qh=ue({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=Ze(qh),zh=ue({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$h=Ze(zh),Jh=ue({},ur,{data:0}),ja=Ze(Jh),Oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kh[e])?!!t[e]:!1}function Kl(){return Yh}var bh=ue({},oo,{key:function(e){if(e.key){var t=Oh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qh=Ze(bh),Xh=ue({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=Ze(Xh),Zh=ue({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),jh=Ze(Zh),eg=ue({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),tg=Ze(eg),ng=ue({},Ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rg=Ze(ng),og=[9,13,27,32],Yl=kt&&"CompositionEvent"in window,kr=null;kt&&"documentMode"in document&&(kr=document.documentMode);var ig=kt&&"TextEvent"in window&&!kr,_f=kt&&(!Yl||kr&&8<kr&&11>=kr),tu=" ",nu=!1;function xf(e,t){switch(e){case"keyup":return og.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function sg(e,t){switch(e){case"compositionend":return wf(t);case"keypress":return t.which!==32?null:(nu=!0,tu);case"textInput":return e=t.data,e===tu&&nu?null:e;default:return null}}function lg(e,t){if(Ln)return e==="compositionend"||!Yl&&xf(e,t)?(e=Sf(),Fo=Ol=$t=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _f&&t.locale!=="ko"?null:t.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ag[e.type]:t==="textarea"}function If(e,t,n,r){nf(r),t=ni(t,"onChange"),0<t.length&&(n=new Wl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,$r=null;function ug(e){Vf(e,0)}function Ni(e){var t=Vn(e);if(bc(t))return e}function dg(e,t){if(e==="change")return t}var Nf=!1;if(kt){var rs;if(kt){var os="oninput"in document;if(!os){var ou=document.createElement("div");ou.setAttribute("oninput","return;"),os=typeof ou.oninput=="function"}rs=os}else rs=!1;Nf=rs&&(!document.documentMode||9<document.documentMode)}function iu(){Pr&&(Pr.detachEvent("onpropertychange",Af),$r=Pr=null)}function Af(e){if(e.propertyName==="value"&&Ni($r)){var t=[];If(t,$r,e,ql(e)),lf(ug,t)}}function cg(e,t,n){e==="focusin"?(iu(),Pr=t,$r=n,Pr.attachEvent("onpropertychange",Af)):e==="focusout"&&iu()}function fg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni($r)}function pg(e,t){if(e==="click")return Ni(t)}function mg(e,t){if(e==="input"||e==="change")return Ni(t)}function hg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:hg;function Jr(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Is.call(t,o)||!ht(e[o],t[o]))return!1}return!0}function su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lu(e,t){var n=su(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=su(n)}}function kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pf(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bo(e.document)}return t}function bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gg(e){var t=Pf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kf(n.ownerDocument.documentElement,n)){if(r!==null&&bl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=lu(n,i);var l=lu(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yg=kt&&"documentMode"in document&&11>=document.documentMode,Un=null,Os=null,Rr=null,Ws=!1;function au(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ws||Un==null||Un!==bo(r)||(r=Un,"selectionStart"in r&&bl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rr&&Jr(Rr,r)||(Rr=r,r=ni(Os,"onSelect"),0<r.length&&(t=new Wl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Un)))}function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},is={},Rf={};kt&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Ai(e){if(is[e])return is[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rf)return is[e]=t[n];return e}var Mf=Ai("animationend"),Df=Ai("animationiteration"),Lf=Ai("animationstart"),Uf=Ai("transitionend"),Ff=new Map,uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){Ff.set(e,t),wn(t,[e])}for(var ss=0;ss<uu.length;ss++){var ls=uu[ss],vg=ls.toLowerCase(),Tg=ls[0].toUpperCase()+ls.slice(1);rn(vg,"on"+Tg)}rn(Mf,"onAnimationEnd");rn(Df,"onAnimationIteration");rn(Lf,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(Uf,"onTransitionEnd");tr("onMouseEnter",["mouseout","mouseover"]);tr("onMouseLeave",["mouseout","mouseover"]);tr("onPointerEnter",["pointerout","pointerover"]);tr("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function du(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vh(r,t,void 0,e),e.currentTarget=null}function Vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&o.isPropagationStopped())break e;du(o,u,c),i=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&o.isPropagationStopped())break e;du(o,u,c),i=d}}}if(Xo)throw e=Bs,Xo=!1,Bs=null,e}function ne(e,t){var n=t[Xs];n===void 0&&(n=t[Xs]=new Set);var r=e+"__bubble";n.has(r)||(Gf(t,e,2,!1),n.add(r))}function as(e,t,n){var r=0;t&&(r|=4),Gf(n,e,r,t)}var xo="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[xo]){e[xo]=!0,Jc.forEach(function(n){n!=="selectionchange"&&(Eg.has(n)||as(n,!1,e),as(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xo]||(t[xo]=!0,as("selectionchange",!1,t))}}function Gf(e,t,n,r){switch(Cf(t)){case 1:var o=Lh;break;case 4:o=Uh;break;default:o=Jl}n=o.bind(null,t,n,e),o=void 0,!qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function us(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;l=l.return}for(;u!==null;){if(l=mn(u),l===null)return;if(d=l.tag,d===5||d===6){r=i=l;continue e}u=u.parentNode}}r=r.return}lf(function(){var c=i,f=ql(n),p=[];e:{var m=Ff.get(e);if(m!==void 0){var y=Wl,E=e;switch(e){case"keypress":if(Vo(n)===0)break e;case"keydown":case"keyup":y=Qh;break;case"focusin":E="focus",y=ns;break;case"focusout":E="blur",y=ns;break;case"beforeblur":case"afterblur":y=ns;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jh;break;case Mf:case Df:case Lf:y=Bh;break;case Uf:y=tg;break;case"scroll":y=Fh;break;case"wheel":y=rg;break;case"copy":case"cut":case"paste":y=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=eu}var C=(t&4)!==0,x=!C&&e==="scroll",T=C?m!==null?m+"Capture":null:m;C=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,T!==null&&(S=Hr(g,T),S!=null&&C.push(Wr(g,S,v)))),x)break;g=g.return}0<C.length&&(m=new y(m,E,null,n,f),p.push({event:m,listeners:C}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Gs&&(E=n.relatedTarget||n.fromElement)&&(mn(E)||E[Pt]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?mn(E):null,E!==null&&(x=In(E),E!==x||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(C=Za,S="onMouseLeave",T="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(C=eu,S="onPointerLeave",T="onPointerEnter",g="pointer"),x=y==null?m:Vn(y),v=E==null?m:Vn(E),m=new C(S,g+"leave",y,n,f),m.target=x,m.relatedTarget=v,S=null,mn(f)===c&&(C=new C(T,g+"enter",E,n,f),C.target=v,C.relatedTarget=x,S=C),x=S,y&&E)t:{for(C=y,T=E,g=0,v=C;v;v=Rn(v))g++;for(v=0,S=T;S;S=Rn(S))v++;for(;0<g-v;)C=Rn(C),g--;for(;0<v-g;)T=Rn(T),v--;for(;g--;){if(C===T||T!==null&&C===T.alternate)break t;C=Rn(C),T=Rn(T)}C=null}else C=null;y!==null&&cu(p,m,y,C,!1),E!==null&&x!==null&&cu(p,x,E,C,!0)}}e:{if(m=c?Vn(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var I=dg;else if(ru(m))if(Nf)I=mg;else{I=fg;var N=cg}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=pg);if(I&&(I=I(e,c))){If(p,I,n,f);break e}N&&N(e,m,c),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Ds(m,"number",m.value)}switch(N=c?Vn(c):window,e){case"focusin":(ru(N)||N.contentEditable==="true")&&(Un=N,Os=c,Rr=null);break;case"focusout":Rr=Os=Un=null;break;case"mousedown":Ws=!0;break;case"contextmenu":case"mouseup":case"dragend":Ws=!1,au(p,n,f);break;case"selectionchange":if(yg)break;case"keydown":case"keyup":au(p,n,f)}var k;if(Yl)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ln?xf(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(_f&&n.locale!=="ko"&&(Ln||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ln&&(k=Sf()):($t=f,Ol="value"in $t?$t.value:$t.textContent,Ln=!0)),N=ni(c,A),0<N.length&&(A=new ja(A,e,null,n,f),p.push({event:A,listeners:N}),k?A.data=k:(k=wf(n),k!==null&&(A.data=k)))),(k=ig?sg(e,n):lg(e,n))&&(c=ni(c,"onBeforeInput"),0<c.length&&(f=new ja("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=k))}Vf(p,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ni(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Hr(e,n),i!=null&&r.unshift(Wr(e,i,o)),i=Hr(e,t),i!=null&&r.push(Wr(e,i,o))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cu(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,c=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&c!==null&&(u=c,o?(d=Hr(n,i),d!=null&&l.unshift(Wr(n,d,u))):o||(d=Hr(n,i),d!=null&&l.push(Wr(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Cg=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function fu(e){return(typeof e=="string"?e:""+e).replace(Cg,`
`).replace(Sg,"")}function wo(e,t,n){if(t=fu(t),fu(e)!==t&&n)throw Error(P(425))}function ri(){}var Ks=null,Ys=null;function bs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qs=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,xg=typeof queueMicrotask=="function"?queueMicrotask:typeof pu<"u"?function(e){return pu.resolve(null).then(e).catch(wg)}:Qs;function wg(e){setTimeout(function(){throw e})}function ds(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),zr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);zr(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Et="__reactFiber$"+dr,Kr="__reactProps$"+dr,Pt="__reactContainer$"+dr,Xs="__reactEvents$"+dr,Ig="__reactListeners$"+dr,Ng="__reactHandles$"+dr;function mn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mu(e);e!==null;){if(n=e[Et])return n;e=mu(e)}return t}e=n,n=e.parentNode}return null}function io(e){return e=e[Et]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ki(e){return e[Kr]||null}var Zs=[],Gn=-1;function on(e){return{current:e}}function oe(e){0>Gn||(e.current=Zs[Gn],Zs[Gn]=null,Gn--)}function te(e,t){Gn++,Zs[Gn]=e.current,e.current=t}var nn={},Me=on(nn),Je=on(!1),En=nn;function nr(e,t){var n=e.type.contextTypes;if(!n)return nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oe(e){return e=e.childContextTypes,e!=null}function oi(){oe(Je),oe(Me)}function hu(e,t,n){if(Me.current!==nn)throw Error(P(168));te(Me,t),te(Je,n)}function Hf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(P(108,ch(e)||"Unknown",o));return ue({},n,r)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,En=Me.current,te(Me,e),te(Je,Je.current),!0}function gu(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Hf(e,t,En),r.__reactInternalMemoizedMergedChildContext=e,oe(Je),oe(Me),te(Me,e)):oe(Je),te(Je,n)}var wt=null,Pi=!1,cs=!1;function qf(e){wt===null?wt=[e]:wt.push(e)}function Ag(e){Pi=!0,qf(e)}function sn(){if(!cs&&wt!==null){cs=!0;var e=0,t=Z;try{var n=wt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,Pi=!1}catch(o){throw wt!==null&&(wt=wt.slice(e+1)),cf(Bl,sn),o}finally{Z=t,cs=!1}}return null}var Hn=[],qn=0,si=null,li=0,et=[],tt=0,Cn=null,It=1,Nt="";function cn(e,t){Hn[qn++]=li,Hn[qn++]=si,si=e,li=t}function Bf(e,t,n){et[tt++]=It,et[tt++]=Nt,et[tt++]=Cn,Cn=e;var r=It;e=Nt;var o=32-pt(r)-1;r&=~(1<<o),n+=1;var i=32-pt(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,It=1<<32-pt(t)+o|n<<o|r,Nt=i+e}else It=1<<i|n<<o|r,Nt=e}function Ql(e){e.return!==null&&(cn(e,1),Bf(e,1,0))}function Xl(e){for(;e===si;)si=Hn[--qn],Hn[qn]=null,li=Hn[--qn],Hn[qn]=null;for(;e===Cn;)Cn=et[--tt],et[tt]=null,Nt=et[--tt],et[tt]=null,It=et[--tt],et[tt]=null}var be=null,Ye=null,ie=!1,ft=null;function zf(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,be=e,Ye=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,be=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cn!==null?{id:It,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,be=e,Ye=null,!0):!1;default:return!1}}function js(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(ie){var t=Ye;if(t){var n=t;if(!yu(e,t)){if(js(e))throw Error(P(418));t=Qt(n.nextSibling);var r=be;t&&yu(e,t)?zf(r,n):(e.flags=e.flags&-4097|2,ie=!1,be=e)}}else{if(js(e))throw Error(P(418));e.flags=e.flags&-4097|2,ie=!1,be=e}}}function vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;be=e}function Io(e){if(e!==be)return!1;if(!ie)return vu(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bs(e.type,e.memoizedProps)),t&&(t=Ye)){if(js(e))throw $f(),Error(P(418));for(;t;)zf(e,t),t=Qt(t.nextSibling)}if(vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ye=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=be?Qt(e.stateNode.nextSibling):null;return!0}function $f(){for(var e=Ye;e;)e=Qt(e.nextSibling)}function rr(){Ye=be=null,ie=!1}function Zl(e){ft===null?ft=[e]:ft.push(e)}var kg=Lt.ReactCurrentBatchConfig;function Tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=o.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function No(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tu(e){var t=e._init;return t(e._payload)}function Jf(e){function t(T,g){if(e){var v=T.deletions;v===null?(T.deletions=[g],T.flags|=16):v.push(g)}}function n(T,g){if(!e)return null;for(;g!==null;)t(T,g),g=g.sibling;return null}function r(T,g){for(T=new Map;g!==null;)g.key!==null?T.set(g.key,g):T.set(g.index,g),g=g.sibling;return T}function o(T,g){return T=en(T,g),T.index=0,T.sibling=null,T}function i(T,g,v){return T.index=v,e?(v=T.alternate,v!==null?(v=v.index,v<g?(T.flags|=2,g):v):(T.flags|=2,g)):(T.flags|=1048576,g)}function l(T){return e&&T.alternate===null&&(T.flags|=2),T}function u(T,g,v,S){return g===null||g.tag!==6?(g=vs(v,T.mode,S),g.return=T,g):(g=o(g,v),g.return=T,g)}function d(T,g,v,S){var I=v.type;return I===Dn?f(T,g,v.props.children,S,v.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ht&&Tu(I)===g.type)?(S=o(g,v.props),S.ref=Tr(T,g,v),S.return=T,S):(S=Jo(v.type,v.key,v.props,null,T.mode,S),S.ref=Tr(T,g,v),S.return=T,S)}function c(T,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ts(v,T.mode,S),g.return=T,g):(g=o(g,v.children||[]),g.return=T,g)}function f(T,g,v,S,I){return g===null||g.tag!==7?(g=vn(v,T.mode,S,I),g.return=T,g):(g=o(g,v),g.return=T,g)}function p(T,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vs(""+g,T.mode,v),g.return=T,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case go:return v=Jo(g.type,g.key,g.props,null,T.mode,v),v.ref=Tr(T,null,g),v.return=T,v;case Mn:return g=Ts(g,T.mode,v),g.return=T,g;case Ht:var S=g._init;return p(T,S(g._payload),v)}if(xr(g)||mr(g))return g=vn(g,T.mode,v,null),g.return=T,g;No(T,g)}return null}function m(T,g,v,S){var I=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:u(T,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case go:return v.key===I?d(T,g,v,S):null;case Mn:return v.key===I?c(T,g,v,S):null;case Ht:return I=v._init,m(T,g,I(v._payload),S)}if(xr(v)||mr(v))return I!==null?null:f(T,g,v,S,null);No(T,v)}return null}function y(T,g,v,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return T=T.get(v)||null,u(g,T,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case go:return T=T.get(S.key===null?v:S.key)||null,d(g,T,S,I);case Mn:return T=T.get(S.key===null?v:S.key)||null,c(g,T,S,I);case Ht:var N=S._init;return y(T,g,v,N(S._payload),I)}if(xr(S)||mr(S))return T=T.get(v)||null,f(g,T,S,I,null);No(g,S)}return null}function E(T,g,v,S){for(var I=null,N=null,k=g,A=g=0,U=null;k!==null&&A<v.length;A++){k.index>A?(U=k,k=null):U=k.sibling;var D=m(T,k,v[A],S);if(D===null){k===null&&(k=U);break}e&&k&&D.alternate===null&&t(T,k),g=i(D,g,A),N===null?I=D:N.sibling=D,N=D,k=U}if(A===v.length)return n(T,k),ie&&cn(T,A),I;if(k===null){for(;A<v.length;A++)k=p(T,v[A],S),k!==null&&(g=i(k,g,A),N===null?I=k:N.sibling=k,N=k);return ie&&cn(T,A),I}for(k=r(T,k);A<v.length;A++)U=y(k,T,A,v[A],S),U!==null&&(e&&U.alternate!==null&&k.delete(U.key===null?A:U.key),g=i(U,g,A),N===null?I=U:N.sibling=U,N=U);return e&&k.forEach(function(W){return t(T,W)}),ie&&cn(T,A),I}function C(T,g,v,S){var I=mr(v);if(typeof I!="function")throw Error(P(150));if(v=I.call(v),v==null)throw Error(P(151));for(var N=I=null,k=g,A=g=0,U=null,D=v.next();k!==null&&!D.done;A++,D=v.next()){k.index>A?(U=k,k=null):U=k.sibling;var W=m(T,k,D.value,S);if(W===null){k===null&&(k=U);break}e&&k&&W.alternate===null&&t(T,k),g=i(W,g,A),N===null?I=W:N.sibling=W,N=W,k=U}if(D.done)return n(T,k),ie&&cn(T,A),I;if(k===null){for(;!D.done;A++,D=v.next())D=p(T,D.value,S),D!==null&&(g=i(D,g,A),N===null?I=D:N.sibling=D,N=D);return ie&&cn(T,A),I}for(k=r(T,k);!D.done;A++,D=v.next())D=y(k,T,A,D.value,S),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?A:D.key),g=i(D,g,A),N===null?I=D:N.sibling=D,N=D);return e&&k.forEach(function(J){return t(T,J)}),ie&&cn(T,A),I}function x(T,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Dn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case go:e:{for(var I=v.key,N=g;N!==null;){if(N.key===I){if(I=v.type,I===Dn){if(N.tag===7){n(T,N.sibling),g=o(N,v.props.children),g.return=T,T=g;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ht&&Tu(I)===N.type){n(T,N.sibling),g=o(N,v.props),g.ref=Tr(T,N,v),g.return=T,T=g;break e}n(T,N);break}else t(T,N);N=N.sibling}v.type===Dn?(g=vn(v.props.children,T.mode,S,v.key),g.return=T,T=g):(S=Jo(v.type,v.key,v.props,null,T.mode,S),S.ref=Tr(T,g,v),S.return=T,T=S)}return l(T);case Mn:e:{for(N=v.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(T,g.sibling),g=o(g,v.children||[]),g.return=T,T=g;break e}else{n(T,g);break}else t(T,g);g=g.sibling}g=Ts(v,T.mode,S),g.return=T,T=g}return l(T);case Ht:return N=v._init,x(T,g,N(v._payload),S)}if(xr(v))return E(T,g,v,S);if(mr(v))return C(T,g,v,S);No(T,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(T,g.sibling),g=o(g,v),g.return=T,T=g):(n(T,g),g=vs(v,T.mode,S),g.return=T,T=g),l(T)):n(T,g)}return x}var or=Jf(!0),Of=Jf(!1),ai=on(null),ui=null,Bn=null,jl=null;function ea(){jl=Bn=ui=null}function ta(e){var t=ai.current;oe(ai),e._currentValue=t}function tl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qn(e,t){ui=e,jl=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(ui===null)throw Error(P(308));Bn=e,ui.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var hn=null;function na(e){hn===null?hn=[e]:hn.push(e)}function Wf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,na(t)):(n.next=o.next,o.next=n),t.interleaved=n,Rt(e,r)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function At(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Rt(e,n)}return o=r.interleaved,o===null?(t.next=t,na(r)):(t.next=o.next,o.next=t),r.interleaved=t,Rt(e,n)}function Go(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zl(e,n)}}function Eu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function di(e,t,n,r){var o=e.updateQueue;qt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var d=u,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=o.baseState;l=0,f=c=d=null,u=i;do{var m=u.lane,y=u.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,C=u;switch(m=t,y=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){p=E.call(y,p,m);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,m=typeof E=="function"?E.call(y,p,m):E,m==null)break e;p=ue({},p,m);break e;case 2:qt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[u]:m.push(u))}else y={eventTime:y,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=y,d=p):f=f.next=y,l|=m;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;m=u,u=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(f===null&&(d=p),o.baseState=d,o.firstBaseUpdate=c,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);_n|=l,e.lanes=l,e.memoizedState=p}}function Cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(P(191,o));o.call(r)}}}var so={},St=on(so),Yr=on(so),br=on(so);function gn(e){if(e===so)throw Error(P(174));return e}function oa(e,t){switch(te(br,t),te(Yr,e),te(St,so),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Us(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Us(t,e)}oe(St),te(St,t)}function ir(){oe(St),oe(Yr),oe(br)}function Yf(e){gn(br.current);var t=gn(St.current),n=Us(t,e.type);t!==n&&(te(Yr,e),te(St,n))}function ia(e){Yr.current===e&&(oe(St),oe(Yr))}var le=on(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fs=[];function sa(){for(var e=0;e<fs.length;e++)fs[e]._workInProgressVersionPrimary=null;fs.length=0}var Ho=Lt.ReactCurrentDispatcher,ps=Lt.ReactCurrentBatchConfig,Sn=0,ae=null,ve=null,Ee=null,fi=!1,Mr=!1,Qr=0,Pg=0;function Ne(){throw Error(P(321))}function la(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,o,i){if(Sn=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=e===null||e.memoizedState===null?Lg:Ug,e=n(r,o),Mr){i=0;do{if(Mr=!1,Qr=0,25<=i)throw Error(P(301));i+=1,Ee=ve=null,t.updateQueue=null,Ho.current=Fg,e=n(r,o)}while(Mr)}if(Ho.current=pi,t=ve!==null&&ve.next!==null,Sn=0,Ee=ve=ae=null,fi=!1,t)throw Error(P(300));return e}function ua(){var e=Qr!==0;return Qr=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ae.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function st(){if(ve===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ee===null?ae.memoizedState:Ee.next;if(t!==null)Ee=t,ve=e;else{if(e===null)throw Error(P(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ee===null?ae.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Xr(e,t){return typeof t=="function"?t(e):t}function ms(e){var t=st(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ve,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=l=null,d=null,c=i;do{var f=c.lane;if((Sn&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=p,l=r):d=d.next=p,ae.lanes|=f,_n|=f}c=c.next}while(c!==null&&c!==i);d===null?l=r:d.next=u,ht(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ae.lanes|=i,_n|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hs(e){var t=st(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);ht(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function bf(){}function Qf(e,t){var n=ae,r=st(),o=t(),i=!ht(r.memoizedState,o);if(i&&(r.memoizedState=o,$e=!0),r=r.queue,da(jf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Zf.bind(null,n,r,o,t),void 0,null),Ce===null)throw Error(P(349));Sn&30||Xf(n,t,o)}return o}function Xf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zf(e,t,n,r){t.value=n,t.getSnapshot=r,ep(t)&&tp(e)}function jf(e,t,n){return n(function(){ep(t)&&tp(e)})}function ep(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function tp(e){var t=Rt(e,1);t!==null&&mt(t,e,1,-1)}function Su(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},t.queue=e,e=e.dispatch=Dg.bind(null,ae,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function np(){return st().memoizedState}function qo(e,t,n,r){var o=Tt();ae.flags|=e,o.memoizedState=Zr(1|t,n,void 0,r===void 0?null:r)}function Ri(e,t,n,r){var o=st();r=r===void 0?null:r;var i=void 0;if(ve!==null){var l=ve.memoizedState;if(i=l.destroy,r!==null&&la(r,l.deps)){o.memoizedState=Zr(t,n,i,r);return}}ae.flags|=e,o.memoizedState=Zr(1|t,n,i,r)}function _u(e,t){return qo(8390656,8,e,t)}function da(e,t){return Ri(2048,8,e,t)}function rp(e,t){return Ri(4,2,e,t)}function op(e,t){return Ri(4,4,e,t)}function ip(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sp(e,t,n){return n=n!=null?n.concat([e]):null,Ri(4,4,ip.bind(null,t,e),n)}function ca(){}function lp(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&la(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ap(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&la(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function up(e,t,n){return Sn&21?(ht(n,t)||(n=mf(),ae.lanes|=n,_n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function Rg(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{Z=n,ps.transition=r}}function dp(){return st().memoizedState}function Mg(e,t,n){var r=jt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cp(e))fp(t,n);else if(n=Wf(e,t,n,r),n!==null){var o=Fe();mt(n,e,r,o),pp(n,t,r)}}function Dg(e,t,n){var r=jt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cp(e))fp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(o.hasEagerState=!0,o.eagerState=u,ht(u,l)){var d=t.interleaved;d===null?(o.next=o,na(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=Wf(e,t,o,r),n!==null&&(o=Fe(),mt(n,e,r,o),pp(n,t,r))}}function cp(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function fp(e,t){Mr=fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zl(e,n)}}var pi={readContext:it,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},Lg={readContext:it,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:_u,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qo(4194308,4,ip.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Mg.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Su,useDebugValue:ca,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Su(!1),t=e[0];return e=Rg.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,o=Tt();if(ie){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Ce===null)throw Error(P(349));Sn&30||Xf(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,_u(jf.bind(null,r,i,e),[e]),r.flags|=2048,Zr(9,Zf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Ce.identifierPrefix;if(ie){var n=Nt,r=It;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ug={readContext:it,useCallback:lp,useContext:it,useEffect:da,useImperativeHandle:sp,useInsertionEffect:rp,useLayoutEffect:op,useMemo:ap,useReducer:ms,useRef:np,useState:function(){return ms(Xr)},useDebugValue:ca,useDeferredValue:function(e){var t=st();return up(t,ve.memoizedState,e)},useTransition:function(){var e=ms(Xr)[0],t=st().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:Qf,useId:dp,unstable_isNewReconciler:!1},Fg={readContext:it,useCallback:lp,useContext:it,useEffect:da,useImperativeHandle:sp,useInsertionEffect:rp,useLayoutEffect:op,useMemo:ap,useReducer:hs,useRef:np,useState:function(){return hs(Xr)},useDebugValue:ca,useDeferredValue:function(e){var t=st();return ve===null?t.memoizedState=e:up(t,ve.memoizedState,e)},useTransition:function(){var e=hs(Xr)[0],t=st().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:Qf,useId:dp,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mi={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),o=jt(e),i=At(r,o);i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,o),t!==null&&(mt(t,e,o,r),Go(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),o=jt(e),i=At(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,o),t!==null&&(mt(t,e,o,r),Go(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=jt(e),o=At(n,r);o.tag=2,t!=null&&(o.callback=t),t=Xt(e,o,r),t!==null&&(mt(t,e,r,n),Go(t,e,r))}};function xu(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Jr(n,r)||!Jr(o,i):!0}function mp(e,t,n){var r=!1,o=nn,i=t.contextType;return typeof i=="object"&&i!==null?i=it(i):(o=Oe(t)?En:Me.current,r=t.contextTypes,i=(r=r!=null)?nr(e,o):nn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function wu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function rl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ra(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=it(i):(i=Oe(t)?En:Me.current,o.context=nr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Mi.enqueueReplaceState(o,o.state,null),di(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function sr(e,t){try{var n="",r=t;do n+=dh(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function gs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vg=typeof WeakMap=="function"?WeakMap:Map;function hp(e,t,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hi||(hi=!0,ml=r),ol(e,t)},n}function gp(e,t,n){n=At(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ol(e,t),typeof r!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vg;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Xg.bind(null,e,t,n),t.then(e,e))}function Nu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Au(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=At(-1,1),t.tag=2,Xt(n,t,1))),n.lanes|=1),e)}var Gg=Lt.ReactCurrentOwner,$e=!1;function Ue(e,t,n,r){t.child=e===null?Of(t,null,n,r):or(t,e.child,n,r)}function ku(e,t,n,r,o){n=n.render;var i=t.ref;return Qn(t,o),r=aa(e,t,n,r,i,o),n=ua(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mt(e,t,o)):(ie&&n&&Ql(t),t.flags|=1,Ue(e,t,r,o),t.child)}function Pu(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Ta(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,yp(e,t,i,r,o)):(e=Jo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jr,n(l,r)&&e.ref===t.ref)return Mt(e,t,o)}return t.flags|=1,e=en(i,r),e.ref=t.ref,e.return=t,t.child=e}function yp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Jr(i,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Mt(e,t,o)}return il(e,t,n,r,o)}function vp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te($n,Ke),Ke|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te($n,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te($n,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,te($n,Ke),Ke|=r;return Ue(e,t,o,n),t.child}function Tp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function il(e,t,n,r,o){var i=Oe(n)?En:Me.current;return i=nr(t,i),Qn(t,o),n=aa(e,t,n,r,i,o),r=ua(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mt(e,t,o)):(ie&&r&&Ql(t),t.flags|=1,Ue(e,t,n,o),t.child)}function Ru(e,t,n,r,o){if(Oe(n)){var i=!0;ii(t)}else i=!1;if(Qn(t,o),t.stateNode===null)Bo(e,t),mp(t,n,r),rl(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=it(c):(c=Oe(n)?En:Me.current,c=nr(t,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==c)&&wu(t,l,r,c),qt=!1;var m=t.memoizedState;l.state=m,di(t,r,l,o),d=t.memoizedState,u!==r||m!==d||Je.current||qt?(typeof f=="function"&&(nl(t,n,f,r),d=t.memoizedState),(u=qt||xu(t,n,u,r,m,d,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=c,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Kf(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:dt(t.type,u),l.props=c,p=t.pendingProps,m=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=it(d):(d=Oe(n)?En:Me.current,d=nr(t,d));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==d)&&wu(t,l,r,d),qt=!1,m=t.memoizedState,l.state=m,di(t,r,l,o);var E=t.memoizedState;u!==p||m!==E||Je.current||qt?(typeof y=="function"&&(nl(t,n,y,r),E=t.memoizedState),(c=qt||xu(t,n,c,r,m,E,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=d,r=c):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return sl(e,t,n,r,i,o)}function sl(e,t,n,r,o,i){Tp(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&gu(t,n,!1),Mt(e,t,i);r=t.stateNode,Gg.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=or(t,e.child,null,i),t.child=or(t,null,u,i)):Ue(e,t,u,i),t.memoizedState=r.state,o&&gu(t,n,!0),t.child}function Ep(e){var t=e.stateNode;t.pendingContext?hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hu(e,t.context,!1),oa(e,t.containerInfo)}function Mu(e,t,n,r,o){return rr(),Zl(o),t.flags|=256,Ue(e,t,n,r),t.child}var ll={dehydrated:null,treeContext:null,retryLane:0};function al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cp(e,t,n){var r=t.pendingProps,o=le.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),te(le,o&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ui(l,r,0,null),e=vn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=al(n),t.memoizedState=ll,e):fa(t,l));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return Hg(e,t,l,r,u,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,u=o.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=en(o,d),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=en(u,i):(i=vn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?al(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=ll,r}return i=e.child,e=i.sibling,r=en(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fa(e,t){return t=Ui({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,n,r){return r!==null&&Zl(r),or(t,e.child,null,n),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hg(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=gs(Error(P(422))),Ao(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ui({mode:"visible",children:r.children},o,0,null),i=vn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&or(t,e.child,null,l),t.child.memoizedState=al(l),t.memoizedState=ll,i);if(!(t.mode&1))return Ao(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(P(419)),r=gs(i,r,void 0),Ao(e,t,l,r)}if(u=(l&e.childLanes)!==0,$e||u){if(r=Ce,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Rt(e,o),mt(r,e,o,-1))}return va(),r=gs(Error(P(421))),Ao(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Zg.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ye=Qt(o.nextSibling),be=t,ie=!0,ft=null,e!==null&&(et[tt++]=It,et[tt++]=Nt,et[tt++]=Cn,It=e.id,Nt=e.overflow,Cn=t),t=fa(t,r.children),t.flags|=4096,t)}function Du(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tl(e.return,t,n)}function ys(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Sp(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Du(e,n,t);else if(e.tag===19)Du(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ci(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ys(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ci(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ys(t,!0,n,null,i);break;case"together":ys(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qg(e,t,n){switch(t.tag){case 3:Ep(t),rr();break;case 5:Yf(t);break;case 1:Oe(t.type)&&ii(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;te(ai,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Cp(e,t,n):(te(le,le.current&1),e=Mt(e,t,n),e!==null?e.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,vp(e,t,n)}return Mt(e,t,n)}var _p,ul,xp,wp;_p=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ul=function(){};xp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,gn(St.current);var i=null;switch(n){case"input":o=Rs(e,o),r=Rs(e,r),i=[];break;case"select":o=ue({},o,{value:void 0}),r=ue({},r,{value:void 0}),i=[];break;case"textarea":o=Ls(e,o),r=Ls(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ri)}Fs(n,r);var l;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var u=o[c];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var d=r[c];if(u=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&ne("scroll",e),i||u===d||(i=[])):(i=i||[]).push(c,d))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};wp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Er(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bg(e,t,n){var r=t.pendingProps;switch(Xl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Oe(t.type)&&oi(),Ae(t),null;case 3:return r=t.stateNode,ir(),oe(Je),oe(Me),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(yl(ft),ft=null))),ul(e,t),Ae(t),null;case 5:ia(t);var o=gn(br.current);if(n=t.type,e!==null&&t.stateNode!=null)xp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ae(t),null}if(e=gn(St.current),Io(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Et]=t,r[Kr]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)ne(Ir[o],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":za(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":Ja(r,i),ne("invalid",r)}Fs(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,u,e),o=["children",""+u]):Vr.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ne("scroll",r)}switch(n){case"input":yo(r),$a(r,i,!0);break;case"textarea":yo(r),Oa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ri)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Et]=t,e[Kr]=r,_p(e,t,!1,!1),t.stateNode=e;e:{switch(l=Vs(n,r),n){case"dialog":ne("cancel",e),ne("close",e),o=r;break;case"iframe":case"object":case"embed":ne("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)ne(Ir[o],e);o=r;break;case"source":ne("error",e),o=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),o=r;break;case"details":ne("toggle",e),o=r;break;case"input":za(e,r),o=Rs(e,r),ne("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ue({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Ja(e,r),o=Ls(e,r),ne("invalid",e);break;default:o=r}Fs(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?tf(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&jc(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Gr(e,d):typeof d=="number"&&Gr(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vr.hasOwnProperty(i)?d!=null&&i==="onScroll"&&ne("scroll",e):d!=null&&Fl(e,i,d,l))}switch(n){case"input":yo(e),$a(e,r,!1);break;case"textarea":yo(e),Oa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Wn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)wp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=gn(br.current),gn(St.current),Io(t)){if(r=t.stateNode,n=t.memoizedProps,r[Et]=t,(i=r.nodeValue!==n)&&(e=be,e!==null))switch(e.tag){case 3:wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=t,t.stateNode=r}return Ae(t),null;case 13:if(oe(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ye!==null&&t.mode&1&&!(t.flags&128))$f(),rr(),t.flags|=98560,i=!1;else if(i=Io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Et]=t}else rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else ft!==null&&(yl(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?Te===0&&(Te=3):va())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return ir(),ul(e,t),e===null&&Or(t.stateNode.containerInfo),Ae(t),null;case 10:return ta(t.type._context),Ae(t),null;case 17:return Oe(t.type)&&oi(),Ae(t),null;case 19:if(oe(le),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Er(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ci(e),l!==null){for(t.flags|=128,Er(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>lr&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304)}else{if(!r)if(e=ci(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ie)return Ae(t),null}else 2*pe()-i.renderingStartTime>lr&&n!==1073741824&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=le.current,te(le,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return ya(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function zg(e,t){switch(Xl(t),t.tag){case 1:return Oe(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ir(),oe(Je),oe(Me),sa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ia(t),null;case 13:if(oe(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(le),null;case 4:return ir(),null;case 10:return ta(t.type._context),null;case 22:case 23:return ya(),null;case 24:return null;default:return null}}var ko=!1,Pe=!1,$g=typeof WeakSet=="function"?WeakSet:Set,F=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function dl(e,t,n){try{n()}catch(r){de(e,t,r)}}var Lu=!1;function Jg(e,t){if(Ks=ei,e=Pf(),bl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,c=0,f=0,p=e,m=null;t:for(;;){for(var y;p!==n||o!==0&&p.nodeType!==3||(u=l+o),p!==i||r!==0&&p.nodeType!==3||(d=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===e)break t;if(m===n&&++c===o&&(u=l),m===i&&++f===r&&(d=l),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ys={focusedElem:e,selectionRange:n},ei=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,x=E.memoizedState,T=t.stateNode,g=T.getSnapshotBeforeUpdate(t.elementType===t.type?C:dt(t.type,C),x);T.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){de(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return E=Lu,Lu=!1,E}function Dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&dl(t,n,i)}o=o.next}while(o!==r)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ip(e){var t=e.alternate;t!==null&&(e.alternate=null,Ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Kr],delete t[Xs],delete t[Ig],delete t[Ng])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Np(e){return e.tag===5||e.tag===3||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ri));else if(r!==4&&(e=e.child,e!==null))for(fl(e,t,n),e=e.sibling;e!==null;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}var Se=null,ct=!1;function Gt(e,t,n){for(n=n.child;n!==null;)Ap(e,t,n),n=n.sibling}function Ap(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(wi,n)}catch{}switch(n.tag){case 5:Pe||zn(n,t);case 6:var r=Se,o=ct;Se=null,Gt(e,t,n),Se=r,ct=o,Se!==null&&(ct?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(ct?(e=Se,n=n.stateNode,e.nodeType===8?ds(e.parentNode,n):e.nodeType===1&&ds(e,n),zr(e)):ds(Se,n.stateNode));break;case 4:r=Se,o=ct,Se=n.stateNode.containerInfo,ct=!0,Gt(e,t,n),Se=r,ct=o;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&dl(n,t,l),o=o.next}while(o!==r)}Gt(e,t,n);break;case 1:if(!Pe&&(zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){de(n,t,u)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Gt(e,t,n),Pe=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function Fu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $g),t.forEach(function(r){var o=jg.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:Se=u.stateNode,ct=!1;break e;case 3:Se=u.stateNode.containerInfo,ct=!0;break e;case 4:Se=u.stateNode.containerInfo,ct=!0;break e}u=u.return}if(Se===null)throw Error(P(160));Ap(i,l,o),Se=null,ct=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(c){de(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kp(t,e),t=t.sibling}function kp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),vt(e),r&4){try{Dr(3,e,e.return),Di(3,e)}catch(C){de(e,e.return,C)}try{Dr(5,e,e.return)}catch(C){de(e,e.return,C)}}break;case 1:ut(t,e),vt(e),r&512&&n!==null&&zn(n,n.return);break;case 5:if(ut(t,e),vt(e),r&512&&n!==null&&zn(n,n.return),e.flags&32){var o=e.stateNode;try{Gr(o,"")}catch(C){de(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Qc(o,i),Vs(u,l);var c=Vs(u,i);for(l=0;l<d.length;l+=2){var f=d[l],p=d[l+1];f==="style"?tf(o,p):f==="dangerouslySetInnerHTML"?jc(o,p):f==="children"?Gr(o,p):Fl(o,f,p,c)}switch(u){case"input":Ms(o,i);break;case"textarea":Xc(o,i);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Wn(o,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Wn(o,!!i.multiple,i.defaultValue,!0):Wn(o,!!i.multiple,i.multiple?[]:"",!1))}o[Kr]=i}catch(C){de(e,e.return,C)}}break;case 6:if(ut(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(P(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(C){de(e,e.return,C)}}break;case 3:if(ut(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(C){de(e,e.return,C)}break;case 4:ut(t,e),vt(e);break;case 13:ut(t,e),vt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ha=pe())),r&4&&Fu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(c=Pe)||f,ut(t,e),Pe=c):ut(t,e),vt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(F=e,f=e.child;f!==null;){for(p=F=f;F!==null;){switch(m=F,y=m.child,m.tag){case 0:case 11:case 14:case 15:Dr(4,m,m.return);break;case 1:zn(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(C){de(r,n,C)}}break;case 5:zn(m,m.return);break;case 22:if(m.memoizedState!==null){Gu(p);continue}}y!==null?(y.return=m,F=y):Gu(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{o=p.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,d=p.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=ef("display",l))}catch(C){de(e,e.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(C){de(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ut(t,e),vt(e),r&4&&Fu(e);break;case 21:break;default:ut(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Np(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Gr(o,""),r.flags&=-33);var i=Uu(e);pl(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Uu(e);fl(e,u,l);break;default:throw Error(P(161))}}catch(d){de(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Og(e,t,n){F=e,Pp(e)}function Pp(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var o=F,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||ko;if(!l){var u=o.alternate,d=u!==null&&u.memoizedState!==null||Pe;u=ko;var c=Pe;if(ko=l,(Pe=d)&&!c)for(F=o;F!==null;)l=F,d=l.child,l.tag===22&&l.memoizedState!==null?Hu(o):d!==null?(d.return=l,F=d):Hu(o);for(;i!==null;)F=i,Pp(i),i=i.sibling;F=o,ko=u,Pe=c}Vu(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,F=i):Vu(e)}}function Vu(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Di(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cu(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cu(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&zr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Pe||t.flags&512&&cl(t)}catch(m){de(t,t.return,m)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Gu(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Hu(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Di(4,t)}catch(d){de(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(d){de(t,o,d)}}var i=t.return;try{cl(t)}catch(d){de(t,i,d)}break;case 5:var l=t.return;try{cl(t)}catch(d){de(t,l,d)}}}catch(d){de(t,t.return,d)}if(t===e){F=null;break}var u=t.sibling;if(u!==null){u.return=t.return,F=u;break}F=t.return}}var Wg=Math.ceil,mi=Lt.ReactCurrentDispatcher,pa=Lt.ReactCurrentOwner,rt=Lt.ReactCurrentBatchConfig,Y=0,Ce=null,he=null,we=0,Ke=0,$n=on(0),Te=0,jr=null,_n=0,Li=0,ma=0,Lr=null,ze=null,ha=0,lr=1/0,xt=null,hi=!1,ml=null,Zt=null,Po=!1,Jt=null,gi=0,Ur=0,hl=null,zo=-1,$o=0;function Fe(){return Y&6?pe():zo!==-1?zo:zo=pe()}function jt(e){return e.mode&1?Y&2&&we!==0?we&-we:kg.transition!==null?($o===0&&($o=mf()),$o):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Cf(e.type)),e):1}function mt(e,t,n,r){if(50<Ur)throw Ur=0,hl=null,Error(P(185));ro(e,n,r),(!(Y&2)||e!==Ce)&&(e===Ce&&(!(Y&2)&&(Li|=n),Te===4&&zt(e,we)),We(e,r),n===1&&Y===0&&!(t.mode&1)&&(lr=pe()+500,Pi&&sn()))}function We(e,t){var n=e.callbackNode;kh(e,t);var r=jo(e,e===Ce?we:0);if(r===0)n!==null&&Ya(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ya(n),t===1)e.tag===0?Ag(qu.bind(null,e)):qf(qu.bind(null,e)),xg(function(){!(Y&6)&&sn()}),n=null;else{switch(hf(r)){case 1:n=Bl;break;case 4:n=ff;break;case 16:n=Zo;break;case 536870912:n=pf;break;default:n=Zo}n=Gp(n,Rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rp(e,t){if(zo=-1,$o=0,Y&6)throw Error(P(327));var n=e.callbackNode;if(Xn()&&e.callbackNode!==n)return null;var r=jo(e,e===Ce?we:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yi(e,r);else{t=r;var o=Y;Y|=2;var i=Dp();(Ce!==e||we!==t)&&(xt=null,lr=pe()+500,yn(e,t));do try{bg();break}catch(u){Mp(e,u)}while(!0);ea(),mi.current=i,Y=o,he!==null?t=0:(Ce=null,we=0,t=Te)}if(t!==0){if(t===2&&(o=zs(e),o!==0&&(r=o,t=gl(e,o))),t===1)throw n=jr,yn(e,0),zt(e,r),We(e,pe()),n;if(t===6)zt(e,r);else{if(o=e.current.alternate,!(r&30)&&!Kg(o)&&(t=yi(e,r),t===2&&(i=zs(e),i!==0&&(r=i,t=gl(e,i))),t===1))throw n=jr,yn(e,0),zt(e,r),We(e,pe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:fn(e,ze,xt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=ha+500-pe(),10<t)){if(jo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Qs(fn.bind(null,e,ze,xt),t);break}fn(e,ze,xt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-pt(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wg(r/1960))-r,10<r){e.timeoutHandle=Qs(fn.bind(null,e,ze,xt),r);break}fn(e,ze,xt);break;case 5:fn(e,ze,xt);break;default:throw Error(P(329))}}}return We(e,pe()),e.callbackNode===n?Rp.bind(null,e):null}function gl(e,t){var n=Lr;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=yi(e,t),e!==2&&(t=ze,ze=n,t!==null&&yl(t)),e}function yl(e){ze===null?ze=e:ze.push.apply(ze,e)}function Kg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ht(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~ma,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function qu(e){if(Y&6)throw Error(P(327));Xn();var t=jo(e,0);if(!(t&1))return We(e,pe()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var r=zs(e);r!==0&&(t=r,n=gl(e,r))}if(n===1)throw n=jr,yn(e,0),zt(e,t),We(e,pe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fn(e,ze,xt),We(e,pe()),null}function ga(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(lr=pe()+500,Pi&&sn())}}function xn(e){Jt!==null&&Jt.tag===0&&!(Y&6)&&Xn();var t=Y;Y|=1;var n=rt.transition,r=Z;try{if(rt.transition=null,Z=1,e)return e()}finally{Z=r,rt.transition=n,Y=t,!(Y&6)&&sn()}}function ya(){Ke=$n.current,oe($n)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_g(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(Xl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oi();break;case 3:ir(),oe(Je),oe(Me),sa();break;case 5:ia(r);break;case 4:ir();break;case 13:oe(le);break;case 19:oe(le);break;case 10:ta(r.type._context);break;case 22:case 23:ya()}n=n.return}if(Ce=e,he=e=en(e.current,null),we=Ke=t,Te=0,jr=null,ma=Li=_n=0,ze=Lr=null,hn!==null){for(t=0;t<hn.length;t++)if(n=hn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}hn=null}return e}function Mp(e,t){do{var n=he;try{if(ea(),Ho.current=pi,fi){for(var r=ae.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}fi=!1}if(Sn=0,Ee=ve=ae=null,Mr=!1,Qr=0,pa.current=null,n===null||n.return===null){Te=1,jr=t,he=null;break}e:{var i=e,l=n.return,u=n,d=t;if(t=we,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Nu(l);if(y!==null){y.flags&=-257,Au(y,l,u,i,t),y.mode&1&&Iu(i,c,t),t=y,d=c;var E=t.updateQueue;if(E===null){var C=new Set;C.add(d),t.updateQueue=C}else E.add(d);break e}else{if(!(t&1)){Iu(i,c,t),va();break e}d=Error(P(426))}}else if(ie&&u.mode&1){var x=Nu(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Au(x,l,u,i,t),Zl(sr(d,u));break e}}i=d=sr(d,u),Te!==4&&(Te=2),Lr===null?Lr=[i]:Lr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var T=hp(i,d,t);Eu(i,T);break e;case 1:u=d;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zt===null||!Zt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=gp(i,u,t);Eu(i,S);break e}}i=i.return}while(i!==null)}Up(n)}catch(I){t=I,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Dp(){var e=mi.current;return mi.current=pi,e===null?pi:e}function va(){(Te===0||Te===3||Te===2)&&(Te=4),Ce===null||!(_n&268435455)&&!(Li&268435455)||zt(Ce,we)}function yi(e,t){var n=Y;Y|=2;var r=Dp();(Ce!==e||we!==t)&&(xt=null,yn(e,t));do try{Yg();break}catch(o){Mp(e,o)}while(!0);if(ea(),Y=n,mi.current=r,he!==null)throw Error(P(261));return Ce=null,we=0,Te}function Yg(){for(;he!==null;)Lp(he)}function bg(){for(;he!==null&&!Eh();)Lp(he)}function Lp(e){var t=Vp(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Up(e):he=t,pa.current=null}function Up(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zg(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,he=null;return}}else if(n=Bg(n,t,Ke),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);Te===0&&(Te=5)}function fn(e,t,n){var r=Z,o=rt.transition;try{rt.transition=null,Z=1,Qg(e,t,n,r)}finally{rt.transition=o,Z=r}return null}function Qg(e,t,n,r){do Xn();while(Jt!==null);if(Y&6)throw Error(P(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ph(e,i),e===Ce&&(he=Ce=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Po||(Po=!0,Gp(Zo,function(){return Xn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var l=Z;Z=1;var u=Y;Y|=4,pa.current=null,Jg(e,n),kp(n,e),gg(Ys),ei=!!Ks,Ys=Ks=null,e.current=n,Og(n),Ch(),Y=u,Z=l,rt.transition=i}else e.current=n;if(Po&&(Po=!1,Jt=e,gi=o),i=e.pendingLanes,i===0&&(Zt=null),xh(n.stateNode),We(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(hi)throw hi=!1,e=ml,ml=null,e;return gi&1&&e.tag!==0&&Xn(),i=e.pendingLanes,i&1?e===hl?Ur++:(Ur=0,hl=e):Ur=0,sn(),null}function Xn(){if(Jt!==null){var e=hf(gi),t=rt.transition,n=Z;try{if(rt.transition=null,Z=16>e?16:e,Jt===null)var r=!1;else{if(e=Jt,Jt=null,gi=0,Y&6)throw Error(P(331));var o=Y;for(Y|=4,F=e.current;F!==null;){var i=F,l=i.child;if(F.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(F=c;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:Dr(8,f,i)}var p=f.child;if(p!==null)p.return=f,F=p;else for(;F!==null;){f=F;var m=f.sibling,y=f.return;if(Ip(f),f===c){F=null;break}if(m!==null){m.return=y,F=m;break}F=y}}}var E=i.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var x=C.sibling;C.sibling=null,C=x}while(C!==null)}}F=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,F=l;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dr(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,F=T;break e}F=i.return}}var g=e.current;for(F=g;F!==null;){l=F;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,F=v;else e:for(l=g;F!==null;){if(u=F,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Di(9,u)}}catch(I){de(u,u.return,I)}if(u===l){F=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,F=S;break e}F=u.return}}if(Y=o,sn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(wi,e)}catch{}r=!0}return r}finally{Z=n,rt.transition=t}}return!1}function Bu(e,t,n){t=sr(n,t),t=hp(e,t,1),e=Xt(e,t,1),t=Fe(),e!==null&&(ro(e,1,t),We(e,t))}function de(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zt===null||!Zt.has(r))){e=sr(n,e),e=gp(t,e,1),t=Xt(t,e,1),e=Fe(),t!==null&&(ro(t,1,e),We(t,e));break}}t=t.return}}function Xg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(we&n)===n&&(Te===4||Te===3&&(we&130023424)===we&&500>pe()-ha?yn(e,0):ma|=n),We(e,t)}function Fp(e,t){t===0&&(e.mode&1?(t=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):t=1);var n=Fe();e=Rt(e,t),e!==null&&(ro(e,t,n),We(e,n))}function Zg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fp(e,n)}function jg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Fp(e,n)}var Vp;Vp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,qg(e,t,n);$e=!!(e.flags&131072)}else $e=!1,ie&&t.flags&1048576&&Bf(t,li,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var o=nr(t,Me.current);Qn(t,n),o=aa(null,t,r,e,o,n);var i=ua();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(r)?(i=!0,ii(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ra(t),o.updater=Mi,t.stateNode=o,o._reactInternals=t,rl(t,r,e,n),t=sl(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&Ql(t),Ue(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=ty(r),e=dt(r,e),o){case 0:t=il(null,t,r,e,n);break e;case 1:t=Ru(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=Pu(null,t,r,dt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),il(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Ru(e,t,r,o,n);case 3:e:{if(Ep(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Kf(e,t),di(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=sr(Error(P(423)),t),t=Mu(e,t,r,n,o);break e}else if(r!==o){o=sr(Error(P(424)),t),t=Mu(e,t,r,n,o);break e}else for(Ye=Qt(t.stateNode.containerInfo.firstChild),be=t,ie=!0,ft=null,n=Of(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rr(),r===o){t=Mt(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return Yf(t),e===null&&el(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,bs(r,o)?l=null:i!==null&&bs(r,i)&&(t.flags|=32),Tp(e,t),Ue(e,t,l,n),t.child;case 6:return e===null&&el(t),null;case 13:return Cp(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),ku(e,t,r,o,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,te(ai,r._currentValue),r._currentValue=l,i!==null)if(ht(i.value,l)){if(i.children===o.children&&!Je.current){t=Mt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=At(-1,n&-n),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),tl(i.return,n,t),u.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),tl(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ue(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Qn(t,n),o=it(o),r=r(o),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,o=dt(r,t.pendingProps),o=dt(r.type,o),Pu(e,t,r,o,n);case 15:return yp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Bo(e,t),t.tag=1,Oe(r)?(e=!0,ii(t)):e=!1,Qn(t,n),mp(t,r,o),rl(t,r,o,n),sl(null,t,r,!0,e,n);case 19:return Sp(e,t,n);case 22:return vp(e,t,n)}throw Error(P(156,t.tag))};function Gp(e,t){return cf(e,t)}function ey(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,r){return new ey(e,t,n,r)}function Ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ty(e){if(typeof e=="function")return Ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gl)return 11;if(e===Hl)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")Ta(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Dn:return vn(n.children,o,i,t);case Vl:l=8,o|=8;break;case Ns:return e=nt(12,n,t,o|2),e.elementType=Ns,e.lanes=i,e;case As:return e=nt(13,n,t,o),e.elementType=As,e.lanes=i,e;case ks:return e=nt(19,n,t,o),e.elementType=ks,e.lanes=i,e;case Kc:return Ui(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oc:l=10;break e;case Wc:l=9;break e;case Gl:l=11;break e;case Hl:l=14;break e;case Ht:l=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=nt(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function vn(e,t,n,r){return e=nt(7,e,r,t),e.lanes=n,e}function Ui(e,t,n,r){return e=nt(22,e,r,t),e.elementType=Kc,e.lanes=n,e.stateNode={isHidden:!1},e}function vs(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function Ts(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ny(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ji(0),this.expirationTimes=ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ea(e,t,n,r,o,i,l,u,d){return e=new ny(e,t,n,u,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(i),e}function ry(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hp(e){if(!e)return nn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Oe(n))return Hf(e,n,t)}return t}function qp(e,t,n,r,o,i,l,u,d){return e=Ea(n,r,!0,e,o,i,l,u,d),e.context=Hp(null),n=e.current,r=Fe(),o=jt(n),i=At(r,o),i.callback=t??null,Xt(n,i,o),e.current.lanes=o,ro(e,o,r),We(e,r),e}function Fi(e,t,n,r){var o=t.current,i=Fe(),l=jt(o);return n=Hp(n),t.context===null?t.context=n:t.pendingContext=n,t=At(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xt(o,t,l),e!==null&&(mt(e,o,l,i),Go(e,o,l)),l}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ca(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function oy(){return null}var Bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sa(e){this._internalRoot=e}Vi.prototype.render=Sa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Fi(e,t,null,null)};Vi.prototype.unmount=Sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Fi(null,e,null,null)}),t[Pt]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=vf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&Ef(e)}};function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $u(){}function iy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=vi(l);i.call(c)}}var l=qp(t,r,e,0,null,!1,!1,"",$u);return e._reactRootContainer=l,e[Pt]=l.current,Or(e.nodeType===8?e.parentNode:e),xn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var c=vi(d);u.call(c)}}var d=Ea(e,0,!1,null,null,!1,!1,"",$u);return e._reactRootContainer=d,e[Pt]=d.current,Or(e.nodeType===8?e.parentNode:e),xn(function(){Fi(t,d,n,r)}),d}function Hi(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var u=o;o=function(){var d=vi(l);u.call(d)}}Fi(t,l,e,o)}else l=iy(n,t,e,o,r);return vi(l)}gf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wr(t.pendingLanes);n!==0&&(zl(t,n|1),We(t,pe()),!(Y&6)&&(lr=pe()+500,sn()))}break;case 13:xn(function(){var r=Rt(e,1);if(r!==null){var o=Fe();mt(r,e,1,o)}}),Ca(e,1)}};$l=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Fe();mt(t,e,134217728,n)}Ca(e,134217728)}};yf=function(e){if(e.tag===13){var t=jt(e),n=Rt(e,t);if(n!==null){var r=Fe();mt(n,e,t,r)}Ca(e,t)}};vf=function(){return Z};Tf=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};Hs=function(e,t,n){switch(t){case"input":if(Ms(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ki(r);if(!o)throw Error(P(90));bc(r),Ms(r,o)}}}break;case"textarea":Xc(e,n);break;case"select":t=n.value,t!=null&&Wn(e,!!n.multiple,t,!1)}};of=ga;sf=xn;var sy={usingClientEntryPoint:!1,Events:[io,Vn,ki,nf,rf,ga]},Cr={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ly={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uf(e),e===null?null:e.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||oy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{wi=Ro.inject(ly),Ct=Ro}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sy;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_a(t))throw Error(P(200));return ry(e,t,null,n)};Xe.createRoot=function(e,t){if(!_a(e))throw Error(P(299));var n=!1,r="",o=Bp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ea(e,1,!1,null,null,n,!1,r,o),e[Pt]=t.current,Or(e.nodeType===8?e.parentNode:e),new Sa(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=uf(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return xn(e)};Xe.hydrate=function(e,t,n){if(!Gi(t))throw Error(P(200));return Hi(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!_a(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=Bp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=qp(t,null,e,1,n??null,o,!1,i,l),e[Pt]=t.current,Or(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Vi(t)};Xe.render=function(e,t,n){if(!Gi(t))throw Error(P(200));return Hi(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(P(40));return e._reactRootContainer?(xn(function(){Hi(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Xe.unstable_batchedUpdates=ga;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gi(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Hi(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function zp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zp)}catch(e){console.error(e)}}zp(),Bc.exports=Xe;var ay=Bc.exports,Ju=ay;ws.createRoot=Ju.createRoot,ws.hydrateRoot=Ju.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(this,arguments)}var Ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ot||(Ot={}));const Ou="popstate";function uy(e){e===void 0&&(e={});function t(o,i){let{pathname:l="/",search:u="",hash:d=""}=Nn(o.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),vl("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let l=o.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=o.location.href,c=d.indexOf("#");u=c===-1?d:d.slice(0,c)}return u+"#"+(typeof i=="string"?i:$p(i))}function r(o,i){qi(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return cy(t,n,r,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dy(){return Math.random().toString(36).substr(2,8)}function Wu(e,t){return{usr:e.state,key:e.key,idx:t}}function vl(e,t,n,r){return n===void 0&&(n=null),eo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nn(t):t,{state:n,key:t&&t.key||r||dy()})}function $p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Nn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cy(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,l=o.history,u=Ot.Pop,d=null,c=f();c==null&&(c=0,l.replaceState(eo({},l.state,{idx:c}),""));function f(){return(l.state||{idx:null}).idx}function p(){u=Ot.Pop;let x=f(),T=x==null?null:x-c;c=x,d&&d({action:u,location:C.location,delta:T})}function m(x,T){u=Ot.Push;let g=vl(C.location,x,T);n&&n(g,x),c=f()+1;let v=Wu(g,c),S=C.createHref(g);try{l.pushState(v,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(S)}i&&d&&d({action:u,location:C.location,delta:1})}function y(x,T){u=Ot.Replace;let g=vl(C.location,x,T);n&&n(g,x),c=f();let v=Wu(g,c),S=C.createHref(g);l.replaceState(v,"",S),i&&d&&d({action:u,location:C.location,delta:0})}function E(x){let T=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof x=="string"?x:$p(x);return g=g.replace(/ $/,"%20"),ge(T,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,T)}let C={get action(){return u},get location(){return e(o,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Ou,p),d=x,()=>{o.removeEventListener(Ou,p),d=null}},createHref(x){return t(o,x)},createURL:E,encodeLocation(x){let T=E(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(x){return l.go(x)}};return C}var Ku;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ku||(Ku={}));function fy(e,t,n){return n===void 0&&(n="/"),py(e,t,n)}function py(e,t,n,r){let o=typeof t=="string"?Nn(t):t,i=Wp(o.pathname||"/",n);if(i==null)return null;let l=Jp(e);my(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let c=Iy(i);u=_y(l[d],c)}return u}function Jp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,l,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(ge(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let c=Tn([r,d.relativePath]),f=n.concat(d);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Jp(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Cy(c,i.index),routesMeta:f})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))o(i,l);else for(let d of Op(i.path))o(i,l,d)}),t}function Op(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let l=Op(r.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),o&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function my(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Sy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hy=/^:[\w-]+$/,gy=3,yy=2,vy=1,Ty=10,Ey=-2,Yu=e=>e==="*";function Cy(e,t){let n=e.split("/"),r=n.length;return n.some(Yu)&&(r+=Ey),t&&(r+=yy),n.filter(o=>!Yu(o)).reduce((o,i)=>o+(hy.test(i)?gy:i===""?vy:Ty),r)}function Sy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function _y(e,t,n){let{routesMeta:r}=e,o={},i="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],c=u===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=xy({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},f),m=d.route;if(!p)return null;Object.assign(o,p.params),l.push({params:o,pathname:Tn([i,p.pathname]),pathnameBase:Ry(Tn([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Tn([i,p.pathnameBase]))}return l}function xy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wy(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],l=i.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let C=u[p]||"";l=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const E=u[p];return y&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:l,pattern:e}}function wy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Iy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ay=e=>Ny.test(e);function ky(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Nn(e):e,i;if(n)if(Ay(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),qi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=bu(n.substring(1),"/"):i=bu(n,t)}else i=t;return{pathname:i,search:My(r),hash:Dy(o)}}function bu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Es(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Py(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kp(e,t){let n=Py(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yp(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Nn(e):(o=eo({},e),ge(!o.pathname||!o.pathname.includes("?"),Es("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),Es("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),Es("#","search","hash",o)));let i=e===""||o.pathname==="",l=i?"/":o.pathname,u;if(l==null)u=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),p-=1;o.pathname=m.join("/")}u=p>=0?t[p]:"/"}let d=ky(o,u),c=l&&l!=="/"&&l.endsWith("/"),f=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(c||f)&&(d.pathname+="/"),d}const Tn=e=>e.join("/").replace(/\/\/+/g,"/"),Ry=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),My=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ly(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bp=["post","put","patch","delete"];new Set(bp);const Uy=["get",...bp];new Set(Uy);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to.apply(this,arguments)}const xa=w.createContext(null),Fy=w.createContext(null),lo=w.createContext(null),Bi=w.createContext(null),An=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Qp=w.createContext(null);function ao(){return w.useContext(Bi)!=null}function wa(){return ao()||ge(!1),w.useContext(Bi).location}function Xp(e){w.useContext(lo).static||w.useLayoutEffect(e)}function Ia(){let{isDataRoute:e}=w.useContext(An);return e?by():Vy()}function Vy(){ao()||ge(!1);let e=w.useContext(xa),{basename:t,future:n,navigator:r}=w.useContext(lo),{matches:o}=w.useContext(An),{pathname:i}=wa(),l=JSON.stringify(Kp(o,n.v7_relativeSplatPath)),u=w.useRef(!1);return Xp(()=>{u.current=!0}),w.useCallback(function(c,f){if(f===void 0&&(f={}),!u.current)return;if(typeof c=="number"){r.go(c);return}let p=Yp(c,JSON.parse(l),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Tn([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,l,i,e])}function Gy(e,t){return Hy(e,t)}function Hy(e,t,n,r){ao()||ge(!1);let{navigator:o}=w.useContext(lo),{matches:i}=w.useContext(An),l=i[i.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let c=wa(),f;if(t){var p;let x=typeof t=="string"?Nn(t):t;d==="/"||(p=x.pathname)!=null&&p.startsWith(d)||ge(!1),f=x}else f=c;let m=f.pathname||"/",y=m;if(d!=="/"){let x=d.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=fy(e,{pathname:y}),C=Jy(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:Tn([d,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Tn([d,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&C?w.createElement(Bi.Provider,{value:{location:to({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ot.Pop}},C):C}function qy(){let e=Yy(),t=Ly(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:o},n):null,null)}const By=w.createElement(qy,null);class zy extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(An.Provider,{value:this.props.routeContext},w.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $y(e){let{routeContext:t,match:n,children:r}=e,o=w.useContext(xa);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(An.Provider,{value:t},r)}function Jy(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(o=n)==null?void 0:o.errors;if(u!=null){let f=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);f>=0||ge(!1),l=l.slice(0,Math.min(l.length,f+1))}let d=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:y}=n,E=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){d=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((f,p,m)=>{let y,E=!1,C=null,x=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,C=p.route.errorElement||By,d&&(c<0&&m===0?(Qy("route-fallback"),E=!0,x=null):c===m&&(E=!0,x=p.route.hydrateFallbackElement||null)));let T=t.concat(l.slice(0,m+1)),g=()=>{let v;return y?v=C:E?v=x:p.route.Component?v=w.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=f,w.createElement($y,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?w.createElement(zy,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:g(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):g()},null)}var Zp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zp||{}),jp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jp||{});function Oy(e){let t=w.useContext(xa);return t||ge(!1),t}function Wy(e){let t=w.useContext(Fy);return t||ge(!1),t}function Ky(e){let t=w.useContext(An);return t||ge(!1),t}function em(e){let t=Ky(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function Yy(){var e;let t=w.useContext(Qp),n=Wy(),r=em();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function by(){let{router:e}=Oy(Zp.UseNavigateStable),t=em(jp.UseNavigateStable),n=w.useRef(!1);return Xp(()=>{n.current=!0}),w.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,to({fromRouteId:t},i)))},[e,t])}const Qu={};function Qy(e,t,n){Qu[e]||(Qu[e]=!0)}function Xy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Jn(e){let{to:t,replace:n,state:r,relative:o}=e;ao()||ge(!1);let{future:i,static:l}=w.useContext(lo),{matches:u}=w.useContext(An),{pathname:d}=wa(),c=Ia(),f=Yp(t,Kp(u,i.v7_relativeSplatPath),d,o==="path"),p=JSON.stringify(f);return w.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:o}),[c,p,o,n,r]),null}function pn(e){ge(!1)}function Zy(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Ot.Pop,navigator:i,static:l=!1,future:u}=e;ao()&&ge(!1);let d=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:d,navigator:i,static:l,future:to({v7_relativeSplatPath:!1},u)}),[d,u,i,l]);typeof r=="string"&&(r=Nn(r));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:E="default"}=r,C=w.useMemo(()=>{let x=Wp(f,d);return x==null?null:{location:{pathname:x,search:p,hash:m,state:y,key:E},navigationType:o}},[d,f,p,m,y,E,o]);return C==null?null:w.createElement(lo.Provider,{value:c},w.createElement(Bi.Provider,{children:n,value:C}))}function jy(e){let{children:t,location:n}=e;return Gy(Tl(t),n)}new Promise(()=>{});function Tl(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,o)=>{if(!w.isValidElement(r))return;let i=[...t,o];if(r.type===w.Fragment){n.push.apply(n,Tl(r.props.children,i));return}r.type!==pn&&ge(!1),!r.props.index||!r.props.children||ge(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Tl(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ev="6";try{window.__reactRouterVersion=ev}catch{}const tv="startTransition",Xu=Xm[tv];function nv(e){let{basename:t,children:n,future:r,window:o}=e,i=w.useRef();i.current==null&&(i.current=uy({window:o,v5Compat:!0}));let l=i.current,[u,d]=w.useState({action:l.action,location:l.location}),{v7_startTransition:c}=r||{},f=w.useCallback(p=>{c&&Xu?Xu(()=>d(p)):d(p)},[d,c]);return w.useLayoutEffect(()=>l.listen(f),[l,f]),w.useEffect(()=>Xy(r),[r]),w.createElement(Zy,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}var Zu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zu||(Zu={}));var ju;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ju||(ju={}));var X=(e=>(e.SUPER_ADMIN="SUPER_ADMIN",e.ADMIN="ADMIN",e.ANALYST="ANALYST",e))(X||{}),_e=(e=>(e.CRITICAL="CRITICAL",e.HIGH="HIGH",e.MEDIUM="MEDIUM",e.LOW="LOW",e))(_e||{}),xe=(e=>(e.PENDING="PENDING",e.COMPLETED="COMPLETED",e))(xe||{});const Cs=[{id:"org1",name:"Logstica Internacional S.A.",createdAt:new Date().toISOString(),isActive:!0},{id:"org2",name:"Servicios Navideos Ltd.",createdAt:new Date().toISOString(),isActive:!0}],Oo=[{id:"su1",organizationId:"system",username:"creator_oficial",fullName:"Super Usuario Sistema",role:X.SUPER_ADMIN,password:"Creator2025*"},{id:"u1",organizationId:"org1",username:"admin_oficial",fullName:"Gerente Logstica",role:X.ADMIN,password:"Admin2025*"},{id:"u2",organizationId:"org1",username:"analista_logistica",fullName:"Juan Prez",role:X.ANALYST,password:"user"},{id:"u3",organizationId:"org2",username:"admin_navidad",fullName:"Santa Admin",role:X.ADMIN,password:"123456"},{id:"u4",organizationId:"org2",username:"elfo_jefe",fullName:"Elfo Operativo",role:X.ANALYST,password:"user"}],Ss=[{id:"0001",organizationId:"org1",title:"Revisar aduanas",description:"Verificar documentacin de contenedores entrantes.",category:"Aduanas",priority:_e.HIGH,assignedTo:"u2",deadline:new Date().toISOString().split("T")[0]+"T10:00",status:xe.PENDING,createdAt:new Date().toISOString()},{id:"0002",organizationId:"org2",title:"Inventario de Juguetes",description:"Contar stock en almacn norte.",category:"Inventario",priority:_e.CRITICAL,assignedTo:"u4",deadline:new Date().toISOString().split("T")[0]+"T12:00",status:xe.PENDING,createdAt:new Date().toISOString()}],_t={USERS:"app_users",THEME_MODE:"app_theme_mode",CHRISTMAS_ENABLED:"app_christmas_enabled",DARK_MODE:"app_dark_mode",API_KEY:"app_gemini_key"},_s="/.netlify/functions/api",ed=8e3,rv=5e3,ke={async healthCheck(){try{const e=new AbortController,t=setTimeout(()=>e.abort(),rv),n=await fetch(`${_s}?type=health`,{method:"GET",headers:{Accept:"application/json"},signal:e.signal});if(clearTimeout(t),!n.ok)return!1;const r=n.headers.get("content-type");return r&&r.includes("text/html")?(console.warn("Health Check recibi HTML en lugar de JSON. Endpoint incorrecto."),!1):!0}catch(e){return console.warn("Health check failed:",e),!1}},async fetch(e){const t=new AbortController,n=setTimeout(()=>t.abort(),ed);try{const r=await fetch(`${_s}?type=${e}`,{headers:{Accept:"application/json"},signal:t.signal});clearTimeout(n);const o=r.headers.get("content-type");if(o&&o.includes("text/html"))throw new Error("Endpoint no encontrado (Respuesta HTML)");if(!r.ok)throw new Error(`Failed to fetch ${e}: ${r.status}`);return await r.json()}catch(r){throw console.warn(`API Error (${e}):`,r),r}},async save(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),ed);try{const o=await fetch(`${_s}?type=${e}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t),signal:n.signal});if(clearTimeout(r),!o.ok)throw new Error(`Failed to save ${e}`);return await o.json()}catch(o){throw console.error(`API Save Error (${e}):`,o),o}}};var ov={};const ln=w.createContext({}),iv=({children:e})=>{const[t,n]=w.useState(!0),[r,o]=w.useState(null),i={USERS:"cache_users",TASKS:"cache_tasks",TEMPLATES:"cache_templates",ORGS:"cache_orgs"},l=(M,G)=>{try{localStorage.setItem(M,JSON.stringify(G))}catch{}},u=M=>{try{const G=localStorage.getItem(M);return G?JSON.parse(G):null}catch{return null}},[d,c]=w.useState([]),[f,p]=w.useState([]),[m,y]=w.useState([]),[E,C]=w.useState([]),[x,T]=w.useState(()=>localStorage.getItem(_t.CHRISTMAS_ENABLED)==="true"),[g,v]=w.useState(()=>localStorage.getItem(_t.THEME_MODE)||"normal"),[S,I]=w.useState(()=>localStorage.getItem(_t.DARK_MODE)==="true"),[N,k]=w.useState(()=>localStorage.getItem(_t.API_KEY)||ov.API_KEY||""),[A,U]=w.useState(null),D=w.useCallback(async()=>{n(!0),o(null);const M=setTimeout(()=>{n(G=>G&&(console.warn("Safety valve triggered: Force stopping loading state."),o("Tiempo de espera agotado. El backend puede estar inactivo."),!1))},8e3);try{if(!await ke.healthCheck())throw new Error("Backend unreachable (Health check failed)");console.log("Backend Online. Fetching data...");const[z,j,_,V]=await Promise.all([ke.fetch("users"),ke.fetch("tasks"),ke.fetch("templates"),ke.fetch("orgs")]);let H=z||[],se=j||[],Le=V||[];if((!z||z.length===0)&&(!V||V.length===0)){console.log(" DB seems empty. Seeding Initial Data to Backend..."),H=Oo,se=Ss,Le=Cs;try{await Promise.all([ke.save("users",Oo),ke.save("tasks",Ss),ke.save("orgs",Cs)]),console.log(" Seed data saved to Backend successfully.")}catch(Be){console.warn("Could not seed initial data to backend:",Be)}}c(H),p(se),y(_||[]),C(Le),l(i.USERS,H),l(i.TASKS,se),l(i.TEMPLATES,_||[]),l(i.ORGS,Le)}catch(G){console.error("Backend Sync Failed:",G),o("No se pudo conectar con el backend (Modo Offline).");const z=u(i.USERS),j=u(i.TASKS),_=u(i.TEMPLATES),V=u(i.ORGS);c(z||Oo),p(j||Ss),C(V||Cs),y(_||[])}finally{clearTimeout(M),n(!1)}},[]);w.useEffect(()=>{D()},[D]);const W=M=>{c(M),ke.save("users",M).then(()=>l(i.USERS,M)).catch(G=>{console.error("FAILED TO SAVE USERS:",G),l(i.USERS,M)})},J=M=>{p(M),ke.save("tasks",M).then(()=>l(i.TASKS,M)).catch(G=>{console.warn("Sync failed",G),l(i.TASKS,M)})},fe=M=>{y(M),ke.save("templates",M).then(()=>l(i.TEMPLATES,M)).catch(G=>{console.warn("Sync failed",G),l(i.TEMPLATES,M)})},lt=M=>{C(M),ke.save("orgs",M).then(()=>l(i.ORGS,M)).catch(G=>{console.warn("Sync failed",G),l(i.ORGS,M)})};w.useEffect(()=>localStorage.setItem(_t.THEME_MODE,g),[g]),w.useEffect(()=>localStorage.setItem(_t.CHRISTMAS_ENABLED,String(x)),[x]),w.useEffect(()=>localStorage.setItem(_t.DARK_MODE,String(S)),[S]),w.useEffect(()=>{N&&localStorage.setItem(_t.API_KEY,N)},[N]),w.useEffect(()=>{S?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[S]),w.useEffect(()=>{!x&&g==="christmas"&&v("normal")},[x,g]);const He=w.useMemo(()=>A?A.role===X.SUPER_ADMIN?d:d.filter(M=>M.organizationId===A.organizationId):[],[d,A]),me=w.useMemo(()=>A?A.role===X.SUPER_ADMIN?[]:f.filter(M=>M.organizationId===A.organizationId):[],[f,A]),q=w.useMemo(()=>A?A.role===X.SUPER_ADMIN?[]:m.filter(M=>M.organizationId===A.organizationId):[],[m,A]),R=w.useMemo(()=>(A==null?void 0:A.role)===X.SUPER_ADMIN?E:[],[E,A]),B=(M,G=0)=>{const z=M.map(V=>parseInt(V.id,10)).filter(V=>!isNaN(V)),_=(z.length>0?Math.max(...z):0)+1+G;return String(_).padStart(4,"0")},$=M=>k(M),Q=(M,G,z,j)=>{if((A==null?void 0:A.role)!==X.SUPER_ADMIN)return;const _=`org_${Date.now()}`,V={id:_,name:M,createdAt:new Date().toISOString(),isActive:!0},H={id:`u_${Date.now()}`,organizationId:_,username:G,password:z,fullName:j,role:X.ADMIN};lt([...E,V]),W([...d,H])},ee=M=>{if(!A)return;const G={...M,id:B(f),organizationId:A.organizationId,status:xe.PENDING,createdAt:new Date().toISOString()};J([G,...f])},ye=(M,G,z,j)=>{if(!A)return;const _=[];let V=new Date(z);const H=new Date(j);for(V.setHours(0,0,0,0),H.setHours(0,0,0,0);V<=H;){const Be=`${V.toISOString().split("T")[0]}T${G}`;_.push({...M,organizationId:A.organizationId,deadline:Be,id:"",status:xe.PENDING,createdAt:new Date().toISOString()}),V.setDate(V.getDate()+1)}const se=[..._.map((Le,Be)=>({...Le,id:B(f,Be)})),...f];J(se)},De=M=>{J(f.map(G=>G.id===M.id?M:G))},Vt=M=>{J(f.filter(G=>G.id!==M))},at=M=>{J(f.map(G=>{if(G.id===M){const z=G.status===xe.COMPLETED;return{...G,status:z?xe.PENDING:xe.COMPLETED,completedAt:z?void 0:new Date().toISOString()}}return G}))},yt=(M,G)=>{J(f.map(z=>z.id===M?{...z,notes:G}:z))},uo=(M,G,z,j)=>{if(!A)return;const _={id:`u_${Date.now()}`,organizationId:A.organizationId,fullName:M,username:G,password:z,role:j},V=[...d,_];W(V)},qe=(M,G)=>{W(d.map(z=>z.id===M?{...z,password:G}:z))},un=()=>{!x&&g==="normal"||v(M=>M==="normal"?"christmas":"normal")},Wi=()=>I(M=>!M),co=M=>T(M),fo=M=>{if(!A)return;const G={...M,organizationId:A.organizationId},z=m.find(_=>_.id===M.id);let j;z?j=m.map(_=>_.id===M.id?G:_):j=[...m,G],fe(j)},po=M=>{fe(m.filter(G=>G.id!==M))},mo=(M,G,z,j)=>{if(!A)return;const _=m.find(Be=>Be.id===M);if(!_)return;let V=new Date(z);const H=new Date(j);V.setHours(0,0,0,0),H.setHours(0,0,0,0);const se=[];for(;V<=H;){const Be=V.toISOString().split("T")[0];_.items.forEach(je=>{const Dm=`${Be}T${je.timeOffset}`;se.push({id:"",organizationId:A.organizationId,title:je.title,description:je.description,category:je.category,priority:je.priority,assignedTo:G,deadline:Dm,status:xe.PENDING,createdAt:new Date().toISOString()})}),V.setDate(V.getDate()+1)}const Le=[...se.map((Be,je)=>({...Be,id:B(f,je)})),...f];J(Le)},dn=()=>{const M=["ID","Ttulo","Categora","Prioridad","Estado","Asignado A","Fecha Lmite","Completado En","Notas"],G=me.map(H=>{const se=He.find(Le=>Le.id===H.assignedTo);return[H.id,`"${H.title.replace(/"/g,'""')}"`,`"${H.category.replace(/"/g,'""')}"`,H.priority,H.status,`"${(se?se.fullName:"Desconocido").replace(/"/g,'""')}"`,H.deadline,H.completedAt||"",`"${(H.notes||"").replace(/"/g,'""')}"`]}),z=[M.join(","),...G.map(H=>H.join(","))].join(`
`),j=new Blob(["\uFEFF"+z],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(j),V=document.createElement("a");V.setAttribute("href",_),V.setAttribute("download",`reporte_tareas_${new Date().toISOString().split("T")[0]}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)},Ki=async()=>{const M=[],G=`test_user_${Date.now()}`,z=(j,_,V,H)=>{M.push({step:j,status:_,message:V,details:H}),console.log(`[TEST ${_.toUpperCase()}]: ${V}`,H||"")};try{z("1. PRE-CHECK","pending","Fetching current users from backend...");let j=[];try{j=await ke.fetch("users"),z("1. PRE-CHECK","success",`Fetched ${j.length} users.`)}catch{throw z("1. PRE-CHECK","error","Failed to fetch users. Backend likely offline."),new Error("Backend offline")}const _={id:G,organizationId:"test_org",username:G,fullName:"Test Persistence User",role:X.ANALYST,password:"test"};z("2. WRITE","pending",`Posting new user ${G} to backend...`);const V=[...j,_],H=await ke.save("users",V);if(H.success||H.count)z("2. WRITE","success","Backend responded with success.");else throw new Error("Backend returned failure on save");z("3. VERIFY","pending","Fetching users again to verify persistence...");const se=await ke.fetch("users"),Le=se.find(je=>je.id===G);if(Le)z("3. VERIFY","success","User found in backend response!",Le);else throw z("3. VERIFY","error","User NOT found in backend response.",se),new Error("Persistence failed: Data was not saved.");z("4. CLEANUP","pending","Removing test user...");const Be=se.filter(je=>je.id!==G);await ke.save("users",Be),z("4. CLEANUP","success","Test user removed."),c(Be)}catch(j){z("FATAL","error","Test suite failed or Backend Offline",j.message)}return M};return h.jsx(ln.Provider,{value:{users:He,tasks:me,templates:q,organizations:R,currentUser:A,themeMode:g,isChristmasEnabled:x,isDarkMode:S,apiKey:N,isLoading:t,connectionError:r,setApiKey:$,setCurrentUser:U,refreshData:D,addOrganization:Q,addTask:ee,createTaskRange:ye,updateTask:De,deleteTask:Vt,toggleTaskStatus:at,updateTaskNotes:yt,addUser:uo,resetUserPassword:qe,toggleThemeMode:un,toggleDarkMode:Wi,setChristmasThemeEnabled:co,saveTemplate:fo,deleteTemplate:po,assignTemplateToUser:mo,exportToCSV:dn,runBackendTest:Ki},children:e})},kn=w.createContext({}),sv=({children:e})=>{const{currentUser:t,setCurrentUser:n}=w.useContext(ln),r=async(i,l)=>{const u=localStorage.getItem(_t.USERS),c=(u?JSON.parse(u):Oo).find(f=>f.username===i&&f.password===l);return c?(n(c),localStorage.setItem("app_current_user",JSON.stringify(c)),!0):!1},o=()=>{n(null),localStorage.removeItem("app_current_user")};return Dl.useEffect(()=>{const i=localStorage.getItem("app_current_user");i&&!t&&n(JSON.parse(i))},[]),h.jsx(kn.Provider,{value:{currentUser:t,login:r,logout:o},children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:d,...c},f)=>w.createElement("svg",{ref:f,...lv,width:o,height:o,stroke:r,strokeWidth:l?Number(i)*24/Number(o):i,className:["lucide",`lucide-${av(e)}`,u].join(" "),...c},[...t.map(([p,m])=>w.createElement(p,m)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ce("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ce("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ce("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),K=({children:e,variant:t="primary",isChristmas:n=!1,isLoading:r=!1,className:o="",disabled:i,...l})=>{const u="px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2";let d="";if(n)switch(t){case"primary":d="bg-christmas-red hover:bg-red-700 text-white focus:ring-red-500 shadow-md";break;case"secondary":d="bg-christmas-green hover:bg-green-800 text-white focus:ring-green-500";break;case"success":d="bg-christmas-gold hover:bg-yellow-500 text-green-900 focus:ring-yellow-400";break;case"danger":d="bg-gray-800 hover:bg-gray-900 text-white";break;default:d="hover:bg-christmas-cream text-christmas-red hover:text-christmas-green"}else switch(t){case"primary":d="bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500 shadow-sm";break;case"secondary":d="bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-gray-500";break;case"success":d="bg-green-600 hover:bg-green-700 text-white focus:ring-green-500";break;case"danger":d="bg-red-600 hover:bg-red-700 text-white focus:ring-red-500";break;case"ghost":d="bg-transparent hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-600 dark:text-gray-400";break}return h.jsxs("button",{className:`${u} ${d} ${o}`,disabled:i||r,...l,children:[r?h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,e]})},Cv=({children:e})=>{const{themeMode:t,isChristmasEnabled:n,isDarkMode:r,toggleDarkMode:o,toggleThemeMode:i}=w.useContext(ln),{currentUser:l,logout:u}=w.useContext(kn),d=t==="christmas",c=d?r?"bg-slate-900":"bg-christmas-cream":r?"bg-gray-900":"bg-gray-50",f=d?"bg-christmas-red text-white border-b-4 border-christmas-gold":"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-gray-800 dark:text-white";return h.jsxs("div",{className:`min-h-screen flex flex-col ${c} transition-colors duration-300 font-sans relative`,children:[d&&h.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden","aria-hidden":"true",children:[h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""}),h.jsx("div",{className:"snowflake",children:""})]}),h.jsx("header",{className:`${f} shadow-md sticky top-0 z-50`,children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[d?h.jsx(Ti,{className:"h-6 w-6 text-white animate-pulse"}):h.jsx(tm,{className:"h-6 w-6 text-blue-500"}),h.jsx("h1",{className:"text-xl font-bold tracking-tight",children:d?"Gestor Navideo":"Gestor de Turnos"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"hidden md:flex flex-col items-end mr-4",children:[h.jsx("span",{className:"text-sm font-semibold",children:l==null?void 0:l.fullName}),h.jsx("span",{className:"text-xs opacity-80",children:l==null?void 0:l.role})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-black/10 dark:bg-white/10 p-1 rounded-lg",children:[n&&h.jsx("button",{onClick:i,title:"Cambiar Tema",className:`p-2 rounded-md transition-colors ${d?"bg-white text-christmas-green":"hover:bg-black/5 dark:hover:bg-white/5"}`,children:h.jsx(Ti,{size:18})}),h.jsx("button",{onClick:o,title:"Modo Oscuro/Claro",className:"p-2 rounded-md hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:r?h.jsx(Tv,{size:18}):h.jsx(yv,{size:18})})]}),h.jsxs(K,{variant:"ghost",isChristmas:d,onClick:u,className:d?"text-white hover:bg-christmas-green":"",children:[h.jsx(nm,{size:18}),h.jsx("span",{className:"hidden sm:inline ml-2",children:"Salir"})]})]})]})}),h.jsx("main",{className:"flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8 z-10 relative",children:e}),d&&h.jsx("div",{className:"fixed bottom-0 left-0 w-full h-2 bg-christmas-gold z-50"})]})},Sv=()=>{const{login:e}=w.useContext(kn),{themeMode:t,isLoading:n,connectionError:r,runBackendTest:o,refreshData:i}=w.useContext(ln),l=t==="christmas",[u,d]=w.useState(""),[c,f]=w.useState(""),[p,m]=w.useState(""),[y,E]=w.useState(!1),[C,x]=w.useState([]),[T,g]=w.useState(!1),v=async I=>{I.preventDefault(),m(""),await e(u,c)||m("Credenciales invlidas")},S=async()=>{g(!0),x([]);const I=await o();x(I),g(!1)};return h.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 transition-colors ${l?"bg-christmas-red":"bg-gray-100 dark:bg-gray-900"}`,children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[y&&h.jsxs("div",{className:"absolute inset-0 z-50 bg-white dark:bg-slate-800 p-6 overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[h.jsx(td,{className:"text-blue-500"})," Diagnstico Backend"]}),h.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700",children:"Cerrar"})]}),h.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Prueba de persistencia real End-to-End (Netlify Functions + Blobs)."}),h.jsx(K,{onClick:S,disabled:T,className:"w-full mb-4",children:T?"Ejecutando prueba...":"Iniciar Prueba de Persistencia"}),h.jsx("div",{className:"space-y-3",children:C.map((I,N)=>h.jsxs("div",{className:`p-3 rounded border text-sm ${I.status==="success"?"bg-green-50 border-green-200 text-green-800":I.status==="error"?"bg-red-50 border-red-200 text-red-800":"bg-gray-50 border-gray-200 text-gray-800"}`,children:[h.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[I.status==="success"&&h.jsx(Na,{size:14}),I.status==="error"&&h.jsx(Ev,{size:14}),I.step]}),h.jsx("div",{className:"mt-1",children:I.message})]},N))})]}),h.jsxs("div",{className:`p-8 text-center ${l?"bg-christmas-green text-white":"bg-blue-600 text-white"}`,children:[h.jsx("div",{className:"flex justify-center mb-4",children:l?h.jsx(Ti,{size:48}):h.jsx(tm,{size:48})}),h.jsx("h1",{className:"text-2xl font-bold",children:"Gestor de Turnos"}),h.jsx("p",{className:"opacity-80",children:"Acceso Administrativo y Operativo"})]}),h.jsxs("div",{className:"p-8",children:[n&&h.jsx("div",{className:"mb-4 text-center text-sm text-blue-500 animate-pulse font-medium",children:"Conectando con Backend..."}),r&&!n&&h.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded text-sm text-red-800",children:[h.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[h.jsx(uv,{className:"shrink-0 mt-0.5",size:16}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:"Error de Conexin"}),h.jsx("p",{children:r})]})]}),h.jsxs(K,{onClick:()=>i(),variant:"secondary",className:"w-full text-xs h-8",children:[h.jsx(vv,{size:12,className:"mr-1"})," Reintentar Conexin"]})]}),h.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Usuario"}),h.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:text-white disabled:opacity-50",placeholder:"Ej: admin",value:u,onChange:I=>d(I.target.value),required:!0,disabled:n})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contrasea"}),h.jsx("input",{type:"password",className:"w-full p-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:text-white disabled:opacity-50",placeholder:"******",value:c,onChange:I=>f(I.target.value),required:!0,disabled:n})]}),p&&h.jsx("p",{className:"text-red-500 text-sm text-center",children:p}),h.jsx(K,{type:"submit",className:"w-full justify-center py-3 text-lg",isChristmas:l,disabled:n,children:"Iniciar Sesin"})]}),h.jsxs("div",{className:"mt-6 flex justify-between items-center text-xs text-gray-400",children:[h.jsxs("div",{children:[h.jsx("p",{children:"Credenciales Demo:"}),h.jsx("p",{children:"Admin: admin_logistica / 123456"})]}),h.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-1 hover:text-blue-500",children:[h.jsx(td,{size:12})," Verificar Sistema"]})]})]})]})})},_v=()=>{const{tasks:e,users:t,templates:n,addTask:r,createTaskRange:o,deleteTask:i,updateTask:l,addUser:u,resetUserPassword:d,themeMode:c,apiKey:f,setApiKey:p,isChristmasEnabled:m,setChristmasThemeEnabled:y,saveTemplate:E,deleteTemplate:C,assignTemplateToUser:x,exportToCSV:T}=w.useContext(ln),g=c==="christmas",[v,S]=w.useState("tasks"),[I,N]=w.useState(!1),[k,A]=w.useState(!1),[U,D]=w.useState(!1),[W,J]=w.useState(!1),[fe,lt]=w.useState(!1),[He,me]=w.useState(null),[q,R]=w.useState({title:"",description:"",category:"",priority:_e.MEDIUM,assignedTo:"",deadlineDate:"",deadlineTime:"",isRange:!1,endDate:""}),[B,$]=w.useState(null),[Q,ee]=w.useState({name:"",items:[]}),[ye,De]=w.useState({templateId:"",userId:"",startDate:"",endDate:""}),[Vt,at]=w.useState(""),[yt,uo]=w.useState(""),[qe,un]=w.useState({fullName:"",username:"",password:"",role:X.ANALYST}),Wi=_=>{if(_.preventDefault(),q.isRange&&!He&&q.endDate)o({title:q.title,description:q.description,category:q.category,priority:q.priority,assignedTo:q.assignedTo},q.deadlineTime,q.deadlineDate,q.endDate);else{const V=`${q.deadlineDate}T${q.deadlineTime}`;He?l({...He,title:q.title,description:q.description,category:q.category,priority:q.priority,assignedTo:q.assignedTo,deadline:V,status:He.status}):r({title:q.title,description:q.description,category:q.category,priority:q.priority,assignedTo:q.assignedTo,deadline:V})}N(!1),me(null),co()},co=()=>{R({title:"",description:"",category:"",priority:_e.MEDIUM,assignedTo:"",deadlineDate:new Date().toISOString().split("T")[0],deadlineTime:"10:00",isRange:!1,endDate:""})},fo=_=>{if(_){const[V,H]=_.deadline.split("T");me(_),R({title:_.title,description:_.description,category:_.category,priority:_.priority,assignedTo:_.assignedTo,deadlineDate:V,deadlineTime:H,isRange:!1,endDate:""})}else me(null),co();N(!0)},po=_=>{_?($(_),ee({name:_.name,items:[..._.items]})):($(null),ee({name:"",items:[]}),mo()),A(!0)},mo=()=>{ee(_=>({..._,items:[..._.items,{title:"",description:"",category:"General",priority:_e.MEDIUM,timeOffset:"09:00"}]}))},dn=(_,V,H)=>{const se=[...Q.items];se[_]={...se[_],[V]:H},ee(Le=>({...Le,items:se}))},Ki=_=>{const V=Q.items.filter((H,se)=>se!==_);ee(H=>({...H,items:V}))},M=_=>{_.preventDefault();const V={id:B?B.id:Math.random().toString(36).substring(2,9),name:Q.name,items:Q.items};E(V),A(!1)},G=_=>{_.preventDefault(),x(ye.templateId,ye.userId,ye.startDate,ye.endDate),D(!1),De({templateId:"",userId:"",startDate:"",endDate:""}),S("tasks"),alert("Tareas asignadas correctamente")},z=_=>{_.preventDefault(),Vt&&yt&&(d(Vt,yt),J(!1),uo(""),alert("Contrasea actualizada correctamente"))},j=_=>{_.preventDefault(),u(qe.fullName,qe.username,qe.password,qe.role),lt(!1),un({fullName:"",username:"",password:"",role:X.ANALYST})};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-wrap justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-lg shadow gap-2",children:[h.jsxs("div",{className:"flex gap-2 sm:gap-4 overflow-x-auto",children:[h.jsx(K,{variant:v==="tasks"?"primary":"ghost",onClick:()=>S("tasks"),isChristmas:g,children:"Gestin de Tareas"}),h.jsx(K,{variant:v==="users"?"primary":"ghost",onClick:()=>S("users"),isChristmas:g,children:"Usuarios"}),h.jsx(K,{variant:v==="config"?"primary":"ghost",onClick:()=>S("config"),isChristmas:g,children:"Configuracin"})]}),v==="tasks"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(K,{onClick:T,isChristmas:g,variant:"secondary",title:"Exportar CSV",children:[h.jsx(pv,{size:18})," ",h.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]}),h.jsxs(K,{onClick:()=>D(!0),isChristmas:g,variant:"secondary",children:[h.jsx(gv,{size:18})," ",h.jsx("span",{className:"hidden sm:inline",children:"Asignar Plantilla"})]}),h.jsxs(K,{onClick:()=>fo(),isChristmas:g,variant:"success",children:[h.jsx(Wo,{size:18})," ",h.jsx("span",{className:"hidden sm:inline",children:"Nueva Tarea"})]})]}),v==="users"&&h.jsxs(K,{onClick:()=>lt(!0),isChristmas:g,variant:"success",children:[h.jsx(rm,{size:18})," ",h.jsx("span",{className:"hidden sm:inline",children:"Crear Usuario"})]})]}),h.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden",children:v==="tasks"?h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha Lmite"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ttulo"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Asignado a"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prioridad"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-500",children:"No hay tareas en esta organizacin."})}):e.map(_=>{const V=t.find(se=>se.id===_.assignedTo),H=new Date(_.deadline);return h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:[H.toLocaleDateString()," ",H.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),h.jsxs("td",{className:"px-6 py-4",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_.title}),h.jsx("div",{className:"text-sm text-gray-500",children:_.category})]}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:(V==null?void 0:V.fullName)||"Desconocido / Borrado"}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                            ${_.priority===_e.CRITICAL?"bg-red-100 text-red-800":_.priority===_e.HIGH?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:_.priority})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:_.status===xe.COMPLETED?"Completado":"Pendiente"}),h.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium",children:[h.jsx("button",{onClick:()=>fo(_),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:h.jsx(rd,{size:18})}),h.jsx("button",{onClick:()=>i(_.id),className:"text-red-600 hover:text-red-900",children:h.jsx(xs,{size:18})})]})]},_.id)})})]})}):v==="users"?h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4",children:"Usuarios de mi Organizacin"}),h.jsx("ul",{className:"space-y-4",children:t.map(_=>h.jsxs("li",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_.fullName}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:["Rol: ",_.role," | Usuario: ",_.username]})]}),h.jsxs(K,{variant:"secondary",isChristmas:g,onClick:()=>{at(_.id),J(!0)},children:[h.jsx(hv,{size:16,className:"mr-2"})," Reset Password"]})]},_.id))})]}):h.jsxs("div",{className:"p-6 space-y-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4 border-b pb-2 dark:border-gray-700",children:"Configuracin General"}),h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ti,{className:"text-blue-500"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Tema Navideo"})]}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mt-1",children:"Habilitar el tema navideo para todos los usuarios."})]}),h.jsx("div",{className:"flex items-center",children:h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:m,onChange:_=>y(_.target.checked)}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white mb-2",children:"API Key de Gemini"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-3",children:"Se usa para generar los informes automticos."}),!f&&h.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300 mb-3",children:"No hay API Key configurada. Adela para habilitar los informes."}),h.jsx("input",{type:"password",className:"w-full p-2 border rounded bg-transparent dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Pegar Gemini API Key",value:f,onChange:_=>p(_.target.value)})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2 dark:border-gray-700",children:[h.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:"Plantillas de Tareas"}),h.jsxs(K,{variant:"success",isChristmas:g,onClick:()=>po(),children:[h.jsx(Wo,{size:16,className:"mr-1"})," Nueva Plantilla"]})]}),n.length===0?h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay plantillas creadas."}):h.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(_=>h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border dark:border-gray-600 relative",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:_.name}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>po(_),className:"text-blue-500 hover:text-blue-700",children:h.jsx(rd,{size:16})}),h.jsx("button",{onClick:()=>C(_.id),className:"text-red-500 hover:text-red-700",children:h.jsx(xs,{size:16})})]})]}),h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mb-2",children:[_.items.length," tareas configuradas"]}),h.jsxs("ul",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[_.items.slice(0,3).map((V,H)=>h.jsxs("li",{children:[" ",V.title]},H)),_.items.length>3&&h.jsx("li",{children:"..."})]})]},_.id))})]})]})}),I&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:He?"Editar Tarea":"Nueva Tarea"}),h.jsxs("form",{onSubmit:Wi,className:"space-y-4",children:[h.jsx("input",{className:"w-full p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",placeholder:"Ttulo",value:q.title,onChange:_=>R({...q,title:_.target.value}),required:!0}),h.jsx("textarea",{className:"w-full p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",placeholder:"Descripcin",value:q.description,onChange:_=>R({...q,description:_.target.value}),required:!0}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("select",{className:"p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",value:q.priority,onChange:_=>R({...q,priority:_.target.value}),children:Object.values(_e).map(_=>h.jsx("option",{value:_,children:_},_))}),h.jsxs("select",{className:"p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",value:q.assignedTo,onChange:_=>R({...q,assignedTo:_.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Asignar a..."}),t.filter(_=>_.role!==X.ADMIN&&_.role!==X.SUPER_ADMIN).map(_=>h.jsx("option",{value:_.id,children:_.fullName},_.id))]})]}),h.jsx("input",{className:"w-full p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",placeholder:"Categora",value:q.category,onChange:_=>R({...q,category:_.target.value}),required:!0}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500",children:"Fecha Inicio"}),h.jsx("input",{type:"date",className:"w-full p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",value:q.deadlineDate,onChange:_=>R({...q,deadlineDate:_.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500",children:"Hora Lmite"}),h.jsx("input",{type:"time",className:"w-full p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",value:q.deadlineTime,onChange:_=>R({...q,deadlineTime:_.target.value}),required:!0})]})]}),!He&&h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("input",{type:"checkbox",id:"isRange",checked:q.isRange,onChange:_=>R({...q,isRange:_.target.checked})}),h.jsx("label",{htmlFor:"isRange",className:"text-sm font-medium text-gray-900 dark:text-white",children:"Repetir por rango de fechas"})]}),q.isRange&&h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500",children:"Hasta (Fecha Fin)"}),h.jsx("input",{type:"date",className:"w-full p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white",value:q.endDate,onChange:_=>R({...q,endDate:_.target.value}),required:q.isRange})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[h.jsx(K,{type:"button",variant:"ghost",onClick:()=>N(!1),children:"Cancelar"}),h.jsx(K,{type:"submit",variant:"primary",isChristmas:g,children:"Guardar"})]})]})]})}),k&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:B?"Editar Plantilla":"Nueva Plantilla"}),h.jsxs("form",{onSubmit:M,className:"space-y-4",children:[h.jsx("input",{className:"w-full p-2 border rounded bg-transparent dark:border-slate-600 dark:text-white font-bold",placeholder:"Nombre de la Plantilla (ej: Cierre Mensual)",value:Q.name,onChange:_=>ee({...Q,name:_.target.value}),required:!0}),h.jsxs("div",{className:"space-y-3 mt-4",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Lista de Tareas en Plantilla"}),Q.items.map((_,V)=>h.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-700 relative group",children:[h.jsx("button",{type:"button",onClick:()=>Ki(V),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500",children:h.jsx(xs,{size:14})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-2",children:[h.jsx("input",{className:"p-1 border rounded text-sm dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Ttulo Tarea",value:_.title,onChange:H=>dn(V,"title",H.target.value),required:!0}),h.jsx("input",{className:"p-1 border rounded text-sm dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Categora",value:_.category,onChange:H=>dn(V,"category",H.target.value),required:!0})]}),h.jsx("input",{className:"w-full p-1 border rounded text-sm mb-2 dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Descripcin",value:_.description,onChange:H=>dn(V,"description",H.target.value),required:!0}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("select",{className:"p-1 border rounded text-sm dark:bg-gray-800 dark:border-gray-600 dark:text-white",value:_.priority,onChange:H=>dn(V,"priority",H.target.value),children:Object.values(_e).map(H=>h.jsx("option",{value:H,children:H},H))}),h.jsx("input",{type:"time",className:"p-1 border rounded text-sm dark:bg-gray-800 dark:border-gray-600 dark:text-white",value:_.timeOffset,onChange:H=>dn(V,"timeOffset",H.target.value)})]})]},V)),h.jsxs(K,{type:"button",variant:"secondary",onClick:mo,className:"w-full py-1 text-sm border-dashed border-2",children:[h.jsx(Wo,{size:14,className:"mr-1"})," Agregar Item"]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[h.jsx(K,{type:"button",variant:"ghost",onClick:()=>A(!1),children:"Cancelar"}),h.jsx(K,{type:"submit",variant:"primary",isChristmas:g,children:"Guardar Plantilla"})]})]})]})}),U&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-md w-full p-6 shadow-xl",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Asignar Plantilla"}),h.jsxs("form",{onSubmit:G,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium dark:text-white",children:"Seleccionar Plantilla"}),h.jsxs("select",{className:"w-full p-2 border rounded mt-1 dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:ye.templateId,onChange:_=>De({...ye,templateId:_.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccione..."}),n.map(_=>h.jsx("option",{value:_.id,children:_.name},_.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium dark:text-white",children:"Asignar a Analista"}),h.jsxs("select",{className:"w-full p-2 border rounded mt-1 dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:ye.userId,onChange:_=>De({...ye,userId:_.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccione..."}),t.filter(_=>_.role!==X.ADMIN).map(_=>h.jsx("option",{value:_.id,children:_.fullName},_.id))]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium dark:text-white",children:"Desde"}),h.jsx("input",{type:"date",className:"w-full p-2 border rounded mt-1 dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:ye.startDate,onChange:_=>De({...ye,startDate:_.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium dark:text-white",children:"Hasta"}),h.jsx("input",{type:"date",className:"w-full p-2 border rounded mt-1 dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:ye.endDate,onChange:_=>De({...ye,endDate:_.target.value}),required:!0})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[h.jsx(K,{type:"button",variant:"ghost",onClick:()=>D(!1),children:"Cancelar"}),h.jsx(K,{type:"submit",variant:"primary",isChristmas:g,children:"Asignar"})]})]})]})}),W&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-96",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Resetear Contrasea"}),h.jsxs("form",{onSubmit:z,children:[h.jsx("input",{type:"password",placeholder:"Nueva contrasea",className:"w-full p-2 border rounded mb-4 dark:bg-slate-700 dark:text-white dark:border-slate-600",value:yt,onChange:_=>uo(_.target.value),required:!0}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(K,{type:"button",variant:"ghost",onClick:()=>J(!1),children:"Cancelar"}),h.jsx(K,{type:"submit",variant:"danger",isChristmas:g,children:"Confirmar"})]})]})]})}),fe&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-96",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Nuevo Usuario"}),h.jsxs("form",{onSubmit:j,className:"space-y-3",children:[h.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white dark:border-slate-600",placeholder:"Nombre Completo",value:qe.fullName,onChange:_=>un({...qe,fullName:_.target.value}),required:!0}),h.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white dark:border-slate-600",placeholder:"Nombre de Usuario",value:qe.username,onChange:_=>un({...qe,username:_.target.value}),required:!0}),h.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white dark:border-slate-600",placeholder:"Contrasea",value:qe.password,onChange:_=>un({...qe,password:_.target.value}),required:!0}),h.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white dark:border-slate-600",value:qe.role,onChange:_=>un({...qe,role:_.target.value}),children:[h.jsx("option",{value:X.ANALYST,children:"Analista"}),h.jsx("option",{value:X.ADMIN,children:"Administrador (Co-Admin)"})]}),h.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[h.jsx(K,{type:"button",variant:"ghost",onClick:()=>lt(!1),children:"Cancelar"}),h.jsx(K,{type:"submit",variant:"primary",isChristmas:g,children:"Crear"})]})]})]})})]})},xv=()=>{const{organizations:e,addOrganization:t}=w.useContext(ln),[n,r]=w.useState(!1),[o,i]=w.useState(""),[l,u]=w.useState(""),[d,c]=w.useState(""),[f,p]=w.useState(""),m=y=>{y.preventDefault(),t(o,d,f,l),r(!1),i(""),u(""),c(""),p("")};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border-l-4 border-purple-600",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Panel Super Administrador"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Gestin de Empresas (Tenants) y Accesos Maestros."})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:"Empresas Registradas"}),h.jsxs(K,{onClick:()=>r(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:[h.jsx(Wo,{size:18,className:"mr-2"})," Nueva Empresa"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(y=>h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full",children:h.jsx(nd,{className:"text-purple-600 dark:text-purple-300",size:24})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-lg dark:text-white",children:y.name}),h.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",y.id]})]})]}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[h.jsxs("p",{children:["Estado: ",h.jsx("span",{className:"text-green-600 font-semibold",children:"Activa"})]}),h.jsxs("p",{children:["Creada: ",new Date(y.createdAt).toLocaleDateString()]})]})]},y.id))}),n&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-md w-full p-6 shadow-xl",children:[h.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(nd,{size:20})," Registrar Organizacin"]}),h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium dark:text-gray-300",children:"Nombre de la Empresa"}),h.jsx("input",{className:"w-full p-2 border rounded mt-1 dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:o,onChange:y=>i(y.target.value),required:!0,placeholder:"Ej: Transportes S.A."})]}),h.jsxs("div",{className:"pt-4 border-t dark:border-slate-700",children:[h.jsxs("h3",{className:"text-sm font-bold text-purple-600 mb-3 flex items-center gap-2",children:[h.jsx(rm,{size:16})," Crear Administrador Inicial"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:l,onChange:y=>u(y.target.value),required:!0,placeholder:"Nombre Completo Admin"}),h.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:d,onChange:y=>c(y.target.value),required:!0,placeholder:"Usuario (Login)"}),h.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:f,onChange:y=>p(y.target.value),required:!0,placeholder:"Contrasea"})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[h.jsx(K,{type:"button",variant:"ghost",onClick:()=>r(!1),children:"Cancelar"}),h.jsx(K,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Crear Empresa"})]})]})]})})]})},wv=()=>{const{tasks:e,toggleTaskStatus:t,updateTaskNotes:n,themeMode:r}=w.useContext(ln),{currentUser:o}=w.useContext(kn),i=Ia(),l=r==="christmas",u=w.useMemo(()=>e.filter(p=>p.assignedTo===(o==null?void 0:o.id)),[e,o]),d=u.filter(p=>p.status===xe.COMPLETED).length,c=u.length>0?Math.round(d/u.length*100):0,f=[...u].sort((p,m)=>{const y={[_e.CRITICAL]:0,[_e.HIGH]:1,[_e.MEDIUM]:2,[_e.LOW]:3},E=(y[p.priority]??4)-(y[m.priority]??4);return E!==0?E:new Date(p.deadline).getTime()-new Date(m.deadline).getTime()});return h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md border-t-4 border-blue-500 dark:border-blue-400",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Mi Turno"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Completa tus tareas para generar el informe final."})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[c,"%"]}),h.jsx("span",{className:"text-xs text-gray-500",children:"Completado"})]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:h.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${c}%`}})})]}),h.jsx("div",{className:"space-y-4",children:f.length===0?h.jsx("div",{className:"text-center py-10 text-gray-500",children:"No tienes tareas asignadas para este turno."}):f.map(p=>h.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg shadow transition-all duration-200 border-l-4 
                    ${p.status===xe.COMPLETED?"border-green-500 opacity-75":p.priority===_e.CRITICAL?"border-red-500 ring-2 ring-red-100 dark:ring-red-900":"border-blue-500"}
                `,children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("button",{onClick:()=>t(p.id),className:`mt-1 p-1 rounded-full transition-colors ${p.status===xe.COMPLETED?"text-green-600 bg-green-100":"text-gray-300 hover:text-gray-400"}`,children:h.jsx(Na,{size:24,fill:p.status===xe.COMPLETED?"currentColor":"none"})}),h.jsxs("div",{className:"flex-grow",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:`text-lg font-medium ${p.status===xe.COMPLETED?"line-through text-gray-500":"text-gray-900 dark:text-white"}`,children:p.title}),h.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${p.priority===_e.CRITICAL?"bg-red-100 text-red-800":p.priority===_e.HIGH?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:p.priority})]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mt-1",children:p.description}),h.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(cv,{size:12})," Lmite: ",new Date(p.deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),h.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded",children:p.category})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Notas / Observaciones"}),h.jsx("textarea",{className:"w-full mt-1 p-2 text-sm border rounded-md bg-gray-50 dark:bg-gray-900 dark:border-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",rows:2,placeholder:"Aade detalles importantes aqu...",value:p.notes||"",onChange:m=>n(p.id,m.target.value)})]})]})]})},p.id))}),h.jsx("div",{className:"sticky bottom-4 flex justify-center pb-4",children:h.jsxs(K,{onClick:()=>i("/report"),isChristmas:l,className:"shadow-xl transform hover:scale-105 px-8 py-3 text-lg",disabled:u.length===0,children:[h.jsx(mv,{className:"mr-2"})," Finalizar Turno y Generar Informe"]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iv,Nv;function Av(){return{geminiUrl:Iv,vertexUrl:Nv}}function kv(e,t,n,r){var o,i;if(!(e!=null&&e.baseUrl)){const l=Av();return t?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(i=l.geminiUrl)!==null&&i!==void 0?i:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ut{}function L(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,t.slice(i+1),n[c])}else for(const c of d)a(c,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];a(d[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(u=>s(u,t.slice(r+1),n)):n}else return n}else e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Pv(e,t){for(const[n,r]of Object.entries(t)){const o=n.split("."),i=r.split("."),l=new Set;let u=-1;for(let d=0;d<o.length;d++)if(o[d]==="*"){u=d;break}if(u!==-1&&i.length>u)for(let d=u;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}El(e,o,i,0,l)}}function El(e,t,n,r,o){if(r>=t.length||typeof e!="object"||e===null)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])El(d,t,n,r+1,o)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!o.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const p=[];for(const m of n.slice(r))m==="*"?p.push(c):p.push(m);a(l,p,f)}for(const c of u)delete l[c]}}else{const l=e;i in l&&El(l[i],t,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aa(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rv(e){const t={},n=s(e,["operationName"]);n!=null&&a(t,["operationName"],n);const r=s(e,["resourceName"]);return r!=null&&a(t,["_url","resourceName"],r),t}function Mv(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],Lv(l)),t}function Dv(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Uv(l)),t}function Lv(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Fv(l))),a(t,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function Uv(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Vv(l))),a(t,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function Fv(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],$v(n)),t}function Vv(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],Jv(n)),t}function Gv(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Hv(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function qv(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Bv(l)),t}function Bv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["parent"]);r!=null&&a(t,["parent"],r);const o=s(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function om(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],zv(l)),t}function zv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["parent"]);r!=null&&a(t,["parent"],r);const o=s(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function $v(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const r=s(e,["encodedVideo"]);r!=null&&a(t,["videoBytes"],Aa(r));const o=s(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function Jv(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const r=s(e,["bytesBase64Encoded"]);r!=null&&a(t,["videoBytes"],Aa(r));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var od;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(od||(od={}));var id;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(id||(id={}));var sd;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(sd||(sd={}));var Wt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Wt||(Wt={}));var ld;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ld||(ld={}));var ad;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ad||(ad={}));var ud;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ud||(ud={}));var dd;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dd||(dd={}));var cd;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cd||(cd={}));var fd;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(fd||(fd={}));var pd;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pd||(pd={}));var md;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(md||(md={}));var hd;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(hd||(hd={}));var gd;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(gd||(gd={}));var yd;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(yd||(yd={}));var vd;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vd||(vd={}));var Td;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Td||(Td={}));var Ed;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Ed||(Ed={}));var Cd;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cd||(Cd={}));var Ei;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Ei||(Ei={}));var Sd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Sd||(Sd={}));var _d;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_d||(_d={}));var xd;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xd||(xd={}));var Cl;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cl||(Cl={}));var wd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wd||(wd={}));var Id;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Id||(Id={}));var Nd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Nd||(Nd={}));var Ad;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Ad||(Ad={}));var kd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(kd||(kd={}));var Pd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Pd||(Pd={}));var Rd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Rd||(Rd={}));var Md;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Md||(Md={}));var Dd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Dd||(Dd={}));var Ld;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Ld||(Ld={}));var Ud;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ud||(Ud={}));var Fd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fd||(Fd={}));var Vd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Vd||(Vd={}));var Gd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gd||(Gd={}));var Hd;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Hd||(Hd={}));var qd;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(qd||(qd={}));var Bd;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Bd||(Bd={}));var zd;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(zd||(zd={}));var $d;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})($d||($d={}));var Jd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Jd||(Jd={}));var Od;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Od||(Od={}));var Wd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Wd||(Wd={}));var Kd;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Kd||(Kd={}));var Yd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Yd||(Yd={}));var bd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bd||(bd={}));var Qd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qd||(Qd={}));var Xd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Xd||(Xd={}));var Zd;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Zd||(Zd={}));var jd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jd||(jd={}));var ec;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ec||(ec={}));var On;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(On||(On={}));class Sl{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Sr{get text(){var t,n,r,o,i,l,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const m of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,E]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var t,n,r,o,i,l,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,r,o,i,l,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,r,o,i,l,u,d,c;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,o,i,l,u,d,c;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class tc{}class nc{}class Ov{}class Wv{}class Kv{}class Yv{}class rc{}class oc{}class ic{}class bv{}class Ci{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Ci;let o;const i=t;return n?o=Dv(i):o=Mv(i),Object.assign(r,o),r}}class sc{}class lc{}class ac{}class uc{}class Qv{}class Xv{}class Zv{}class ka{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ka,i=qv(t);return Object.assign(r,i),r}}class jv{}class e0{}class t0{}class dc{}class n0{get text(){var t,n,r;let o="",i=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var t,n,r;let o="";const i=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class r0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Pa{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Pa,i=om(t);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function im(e,t){const n=b(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function sm(e){return Array.isArray(e)?e.map(t=>Si(t)):[Si(e)]}function Si(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function lm(e){const t=Si(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function am(e){const t=Si(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function cc(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function um(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>cc(t)):[cc(e)]}function _l(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function fc(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function pc(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Re(e){if(e==null)throw new Error("ContentUnion is required");return _l(e)?e:{role:"user",parts:um(e)}}function Ra(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Re(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Re(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Re(n)):[Re(t)]}function ot(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(fc(e)||pc(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Re(e)]}const t=[],n=[],r=_l(e[0]);for(const o of e){const i=_l(o);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(o);else{if(fc(o)||pc(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:um(n)}),t}function o0(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Wt).includes(n[0].toUpperCase())?n[0].toUpperCase():Wt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Wt).includes(r.toUpperCase())?r.toUpperCase():Wt.TYPE_UNSPECIFIED})}}function Zn(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&o0(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Wt).includes(u.toUpperCase())?u.toUpperCase():Wt.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Zn(u);else if(r.includes(l)){const d=[];for(const c of u){if(c.type=="null"){t.nullable=!0;continue}d.push(Zn(c))}t[l]=d}else if(o.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=Zn(f);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function Ma(e){return Zn(e)}function Da(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function La(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function cr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Zn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Zn(t.response));return e}function fr(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function i0(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Ft(e,t){if(typeof t!="string")throw new Error("name must be a string");return i0(e,t,"cachedContents")}function dm(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function an(e){return Aa(e)}function s0(e){return e!=null&&typeof e=="object"&&"name"in e}function l0(e){return e!=null&&typeof e=="object"&&"video"in e}function a0(e){return e!=null&&typeof e=="object"&&"uri"in e}function cm(e){var t;let n;if(s0(e)&&(n=e.name),!(a0(e)&&(n=e.uri,n===void 0))&&!(l0(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function fm(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function pm(e){for(const t of["models","tunedModels","publisherModels"])if(u0(e,t))return e[t];return[]}function u0(e,t){return e!==null&&typeof e=="object"&&t in e}function d0(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function c0(e,t={}){const n=[],r=new Set;for(const o of e){const i=o.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const l=d0(o,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function mm(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function f0(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function hm(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let i=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function pr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function gm(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p0(e){const t={},n=s(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const r=s(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>K0(l))),a(t,["inlinedResponses"],i)}const o=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["inlinedEmbedContentResponses"],i)}return t}function m0(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const r=s(e,["gcsDestination","outputUriPrefix"]);r!=null&&a(t,["gcsUri"],r);const o=s(e,["bigqueryDestination","outputUri"]);return o!=null&&a(t,["bigqueryUri"],o),t}function h0(e){const t={},n=s(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const r=s(e,["gcsUri"]);r!=null&&a(t,["gcsDestination","outputUriPrefix"],r);const o=s(e,["bigqueryUri"]);if(o!=null&&a(t,["bigqueryDestination","outputUri"],o),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ko(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata","displayName"]);r!=null&&a(t,["displayName"],r);const o=s(e,["metadata","state"]);o!=null&&a(t,["state"],gm(o));const i=s(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const l=s(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const d=s(e,["metadata","model"]);d!=null&&a(t,["model"],d);const c=s(e,["metadata","output"]);return c!=null&&a(t,["dest"],p0(hm(c))),t}function xl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=s(e,["state"]);o!=null&&a(t,["state"],gm(o));const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(t,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(e,["model"]);f!=null&&a(t,["model"],f);const p=s(e,["inputConfig"]);p!=null&&a(t,["src"],g0(p));const m=s(e,["outputConfig"]);m!=null&&a(t,["dest"],m0(hm(m)));const y=s(e,["completionStats"]);return y!=null&&a(t,["completionStats"],y),t}function g0(e){const t={},n=s(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const r=s(e,["gcsSource","uris"]);r!=null&&a(t,["gcsUri"],r);const o=s(e,["bigquerySource","inputUri"]);return o!=null&&a(t,["bigqueryUri"],o),t}function y0(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=s(t,["fileName"]);r!=null&&a(n,["fileName"],r);const o=s(t,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>W0(e,l))),a(n,["requests","requests"],i)}return n}function v0(e){const t={},n=s(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const r=s(e,["gcsUri"]);r!=null&&a(t,["gcsSource","uris"],r);const o=s(e,["bigqueryUri"]);if(o!=null&&a(t,["bigquerySource","inputUri"],o),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function T0(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function E0(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],pr(e,r)),n}function C0(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],pr(e,r)),n}function S0(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const r=s(e,["citationMetadata"]);r!=null&&a(t,["citationMetadata"],_0(r));const o=s(e,["tokenCount"]);o!=null&&a(t,["tokenCount"],o);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&a(t,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&a(t,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),a(t,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function _0(e){const t={},n=s(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["citations"],r)}return t}function ym(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>eT(i))),a(t,["parts"],o)}const r=s(e,["role"]);return r!=null&&a(t,["role"],r),t}function x0(e,t){const n={},r=s(e,["displayName"]);if(t!==void 0&&r!=null&&a(t,["batch","displayName"],r),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function w0(e,t){const n={},r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=s(e,["dest"]);return t!==void 0&&o!=null&&a(t,["outputConfig"],h0(f0(o))),n}function mc(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["src"]);o!=null&&a(n,["batch","inputConfig"],y0(e,mm(e,o)));const i=s(t,["config"]);return i!=null&&x0(i,n),n}function I0(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["model"],b(e,r));const o=s(t,["src"]);o!=null&&a(n,["inputConfig"],v0(mm(e,o)));const i=s(t,["config"]);return i!=null&&w0(i,n),n}function N0(e,t){const n={},r=s(e,["displayName"]);return t!==void 0&&r!=null&&a(t,["batch","displayName"],r),n}function A0(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["src"]);o!=null&&a(n,["batch","inputConfig"],U0(e,o));const i=s(t,["config"]);return i!=null&&N0(i,n),n}function k0(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],pr(e,r)),n}function P0(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],pr(e,r)),n}function R0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function M0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function D0(e,t){const n={},r=s(t,["contents"]);if(r!=null){let i=Ra(e,r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const o=s(t,["config"]);return o!=null&&(a(n,["_self"],L0(o,n)),Pv(n,{"requests[].*":"requests[].request.*"})),n}function L0(e,t){const n={},r=s(e,["taskType"]);t!==void 0&&r!=null&&a(t,["requests[]","taskType"],r);const o=s(e,["title"]);t!==void 0&&o!=null&&a(t,["requests[]","title"],o);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function U0(e,t){const n={},r=s(t,["fileName"]);r!=null&&a(n,["file_name"],r);const o=s(t,["inlinedRequests"]);return o!=null&&a(n,["requests"],D0(e,o)),n}function F0(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function V0(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const r=s(e,["args"]);r!=null&&a(t,["args"],r);const o=s(e,["name"]);if(o!=null&&a(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function G0(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const r=s(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function H0(e,t,n){const r={},o=s(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],ym(Re(o)));const i=s(t,["temperature"]);i!=null&&a(r,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(r,["topP"],l);const u=s(t,["topK"]);u!=null&&a(r,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(r,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&a(r,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(r,["logprobs"],m);const y=s(t,["presencePenalty"]);y!=null&&a(r,["presencePenalty"],y);const E=s(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=s(t,["seed"]);C!=null&&a(r,["seed"],C);const x=s(t,["responseMimeType"]);x!=null&&a(r,["responseMimeType"],x);const T=s(t,["responseSchema"]);T!=null&&a(r,["responseSchema"],Ma(T));const g=s(t,["responseJsonSchema"]);if(g!=null&&a(r,["responseJsonSchema"],g),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let J=v;Array.isArray(J)&&(J=J.map(fe=>tT(fe))),a(n,["safetySettings"],J)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let J=fr(S);Array.isArray(J)&&(J=J.map(fe=>rT(cr(fe)))),a(n,["tools"],J)}const I=s(t,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],nT(I)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=s(t,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],Ft(e,N));const k=s(t,["responseModalities"]);k!=null&&a(r,["responseModalities"],k);const A=s(t,["mediaResolution"]);A!=null&&a(r,["mediaResolution"],A);const U=s(t,["speechConfig"]);if(U!=null&&a(r,["speechConfig"],Da(U)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=s(t,["thinkingConfig"]);D!=null&&a(r,["thinkingConfig"],D);const W=s(t,["imageConfig"]);return W!=null&&a(r,["imageConfig"],O0(W)),r}function q0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>S0(c))),a(t,["candidates"],d)}const o=s(e,["modelVersion"]);o!=null&&a(t,["modelVersion"],o);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function B0(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],pr(e,r)),n}function z0(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],pr(e,r)),n}function $0(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function J0(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function O0(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=s(e,["imageSize"]);if(r!=null&&a(t,["imageSize"],r),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function W0(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["request","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let u=ot(o);Array.isArray(u)&&(u=u.map(d=>ym(d))),a(n,["request","contents"],u)}const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["config"]);return l!=null&&a(n,["request","generationConfig"],H0(e,l,s(n,["request"],{}))),n}function K0(e){const t={},n=s(e,["response"]);n!=null&&a(t,["response"],q0(n));const r=s(e,["error"]);return r!=null&&a(t,["error"],r),t}function Y0(e,t){const n={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=s(e,["pageToken"]);if(t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function b0(e,t){const n={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=s(e,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const i=s(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function Q0(e){const t={},n=s(e,["config"]);return n!=null&&Y0(n,t),t}function X0(e){const t={},n=s(e,["config"]);return n!=null&&b0(n,t),t}function Z0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ko(l))),a(t,["batchJobs"],i)}return t}function j0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>xl(l))),a(t,["batchJobs"],i)}return t}function eT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=s(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=s(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],F0(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],V0(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],T0(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function tT(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=s(e,["threshold"]);return r!=null&&a(t,["threshold"],r),t}function nT(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],G0(n));const r=s(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function rT(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=s(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],$0(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],J0(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Dt||(Dt={}));class Pn{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Dt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=mc(this.apiClient,t),r=n._url,o=L("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=m,p.request=y}c.push(p)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const i=this.getGcsUri(t),l=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${o}`;else if(l)r.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=I0(this.apiClient,t);return u=L("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>xl(f))}else{const c=mc(this.apiClient,t);return u=L("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ko(f))}}async createEmbeddingsInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=A0(this.apiClient,t);return i=L("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Ko(d))}}async get(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=z0(this.apiClient,t);return u=L("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>xl(f))}else{const c=B0(this.apiClient,t);return u=L("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ko(f))}}async cancel(t){var n,r,o,i;let l="",u={};if(this.apiClient.isVertexAI()){const d=C0(this.apiClient,t);l=L("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=E0(this.apiClient,t);l=L("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=X0(t);return u=L("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=j0(f),m=new dc;return Object.assign(m,p),m})}else{const c=Q0(t);return u=L("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Z0(f),m=new dc;return Object.assign(m,p),m})}}async delete(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=P0(this.apiClient,t);return u=L("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>M0(f))}else{const c=k0(this.apiClient,t);return u=L("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>R0(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iT(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function hc(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>AT(i))),a(t,["parts"],o)}const r=s(e,["role"]);return r!=null&&a(t,["role"],r),t}function sT(e,t){const n={},r=s(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=s(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let f=ot(l);Array.isArray(f)&&(f=f.map(p=>hc(p))),a(t,["contents"],f)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],hc(Re(u)));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>PT(p))),a(t,["tools"],f)}const c=s(e,["toolConfig"]);if(t!==void 0&&c!=null&&a(t,["toolConfig"],kT(c)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lT(e,t){const n={},r=s(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=s(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let p=ot(l);Array.isArray(p)&&(p=p.map(m=>m)),a(t,["contents"],p)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Re(u));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>RT(m))),a(t,["tools"],p)}const c=s(e,["toolConfig"]);t!==void 0&&c!=null&&a(t,["toolConfig"],c);const f=s(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function aT(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["model"],im(e,r));const o=s(t,["config"]);return o!=null&&sT(o,n),n}function uT(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["model"],im(e,r));const o=s(t,["config"]);return o!=null&&lT(o,n),n}function dT(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function cT(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function fT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function pT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function mT(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function hT(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const r=s(e,["args"]);r!=null&&a(t,["args"],r);const o=s(e,["name"]);if(o!=null&&a(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gT(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const r=s(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yT(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const o=s(e,["parameters"]);o!=null&&a(t,["parameters"],o);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function vT(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function TT(e,t){const n={},r=s(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function ET(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function CT(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function ST(e,t){const n={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function _T(e,t){const n={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function xT(e){const t={},n=s(e,["config"]);return n!=null&&ST(n,t),t}function wT(e){const t={},n=s(e,["config"]);return n!=null&&_T(n,t),t}function IT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function NT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function AT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=s(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=s(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],mT(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],hT(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],iT(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function kT(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],gT(n));const r=s(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function PT(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=s(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],ET(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],CT(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function RT(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>yT(m))),a(t,["functionDeclarations"],p)}const r=s(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function MT(e,t){const n={},r=s(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=s(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),n}function DT(e,t){const n={},r=s(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=s(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),n}function LT(e,t){const n={},r=s(t,["name"]);r!=null&&a(n,["_url","name"],Ft(e,r));const o=s(t,["config"]);return o!=null&&MT(o,n),n}function UT(e,t){const n={},r=s(t,["name"]);r!=null&&a(n,["_url","name"],Ft(e,r));const o=s(t,["config"]);return o!=null&&DT(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FT extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Dt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=uT(this.apiClient,t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=aT(this.apiClient,t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=TT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=vT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=cT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=pT(f),m=new ac;return Object.assign(m,p),m})}else{const c=dT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=fT(f),m=new ac;return Object.assign(m,p),m})}}async update(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=UT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=LT(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=wT(t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=NT(f),m=new uc;return Object.assign(m,p),m})}else{const c=xT(t);return u=L("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=IT(f),m=new uc;return Object.assign(m,p),m})}}}function gc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(e){return this instanceof re?(this.v=e,this):new re(e)}function jn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(y){return function(E){return Promise.resolve(E).then(y,p)}}function u(y,E){r[y]&&(o[y]=function(C){return new Promise(function(x,T){i.push([y,C,x,T])>1||d(y,C)})},E&&(o[y]=E(o[y])))}function d(y,E){try{c(r[y](E))}catch(C){m(i[0][3],C)}}function c(y){y.value instanceof re?Promise.resolve(y.value.v).then(f,p):m(i[0][2],y)}function f(y){d("next",y)}function p(y){d("throw",y)}function m(y,E){y(E),i.shift(),i.length&&d(i[0][0],i[0][1])}}function Fr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof gc=="function"?gc(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(l){return new Promise(function(u,d){l=e[i](l),o(u,d,l.done,l.value)})}}function o(i,l,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:vm(n)}function vm(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function GT(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function yc(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),i&&!vm(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}class HT{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new qT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class qT{constructor(t,n,r,o={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),GT(i)}async sendMessage(t){var n;await this.sendPromise;const r=Re(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const d=await o,c=(l=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const y=c?[c]:[];this.recordHistory(r,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const r=Re(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(t=!1){const n=t?yc(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,o;return jn(this,arguments,function*(){var l,u,d,c;const f=[];try{for(var p=!0,m=Fr(t),y;y=yield re(m.next()),l=y.done,!l;p=!0){c=y.value,p=!1;const E=c;if(VT(E)){const C=(o=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;C!==void 0&&f.push(C)}yield yield re(E)}}catch(E){u={error:E}}finally{try{!p&&!l&&(d=m.return)&&(yield re(d.call(m)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(t,n,r){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...yc(r)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zi extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,zi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(e){const t={},n=s(e,["file"]);return n!=null&&a(t,["file"],n),t}function zT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function $T(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],cm(n)),t}function JT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function OT(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],cm(n)),t}function WT(e,t){const n={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function KT(e){const t={},n=s(e,["config"]);return n!=null&&WT(n,t),t}function YT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bT extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Dt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KT(t);return i=L("files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=YT(d),f=new jv;return Object.assign(f,c),f})}}async createInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BT(t);return i=L("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=zT(d),f=new e0;return Object.assign(f,c),f})}}async get(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=OT(t);return i=L("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$T(t);return i=L("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=JT(d),f=new t0;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yo(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function QT(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>fE(i))),a(t,["parts"],o)}const r=s(e,["role"]);return r!=null&&a(t,["role"],r),t}function XT(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function ZT(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const r=s(e,["args"]);r!=null&&a(t,["args"],r);const o=s(e,["name"]);if(o!=null&&a(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jT(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const o=s(e,["parameters"]);o!=null&&a(t,["parameters"],o);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function eE(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const r=s(e,["responseJsonSchema"]);r!=null&&a(t,["responseJsonSchema"],r);const o=s(e,["audioTimestamp"]);o!=null&&a(t,["audioTimestamp"],o);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(t,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const y=s(e,["responseMimeType"]);y!=null&&a(t,["responseMimeType"],y);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=s(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const x=s(e,["routingConfig"]);x!=null&&a(t,["routingConfig"],x);const T=s(e,["seed"]);T!=null&&a(t,["seed"],T);const g=s(e,["speechConfig"]);g!=null&&a(t,["speechConfig"],Tm(g));const v=s(e,["stopSequences"]);v!=null&&a(t,["stopSequences"],v);const S=s(e,["temperature"]);S!=null&&a(t,["temperature"],S);const I=s(e,["thinkingConfig"]);I!=null&&a(t,["thinkingConfig"],I);const N=s(e,["topK"]);N!=null&&a(t,["topK"],N);const k=s(e,["topP"]);if(k!=null&&a(t,["topP"],k),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function tE(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function nE(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function rE(e,t){const n={},r=s(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],r);const o=s(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],La(p));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],QT(Re(E)));const C=s(e,["tools"]);if(t!==void 0&&C!=null){let N=fr(C);Array.isArray(N)&&(N=N.map(k=>mE(cr(k)))),a(t,["setup","tools"],N)}const x=s(e,["sessionResumption"]);t!==void 0&&x!=null&&a(t,["setup","sessionResumption"],pE(x));const T=s(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&a(t,["setup","inputAudioTranscription"],T);const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const I=s(e,["proactivity"]);return t!==void 0&&I!=null&&a(t,["setup","proactivity"],I),n}function oE(e,t){const n={},r=s(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],eE(r));const o=s(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],Tm(La(p)));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Re(E));const C=s(e,["tools"]);if(t!==void 0&&C!=null){let N=fr(C);Array.isArray(N)&&(N=N.map(k=>hE(cr(k)))),a(t,["setup","tools"],N)}const x=s(e,["sessionResumption"]);t!==void 0&&x!=null&&a(t,["setup","sessionResumption"],x);const T=s(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&a(t,["setup","inputAudioTranscription"],T);const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const I=s(e,["proactivity"]);return t!==void 0&&I!=null&&a(t,["setup","proactivity"],I),n}function iE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["setup","model"],b(e,r));const o=s(t,["config"]);return o!=null&&a(n,["config"],rE(o,n)),n}function sE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["setup","model"],b(e,r));const o=s(t,["config"]);return o!=null&&a(n,["config"],oE(o,n)),n}function lE(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function aE(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["weightedPrompts"],r)}return t}function uE(e){const t={},n=s(e,["media"]);if(n!=null){let c=sm(n);Array.isArray(c)&&(c=c.map(f=>Yo(f))),a(t,["mediaChunks"],c)}const r=s(e,["audio"]);r!=null&&a(t,["audio"],Yo(am(r)));const o=s(e,["audioStreamEnd"]);o!=null&&a(t,["audioStreamEnd"],o);const i=s(e,["video"]);i!=null&&a(t,["video"],Yo(lm(i)));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function dE(e){const t={},n=s(e,["media"]);if(n!=null){let c=sm(n);Array.isArray(c)&&(c=c.map(f=>f)),a(t,["mediaChunks"],c)}const r=s(e,["audio"]);r!=null&&a(t,["audio"],am(r));const o=s(e,["audioStreamEnd"]);o!=null&&a(t,["audioStreamEnd"],o);const i=s(e,["video"]);i!=null&&a(t,["video"],lm(i));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function cE(e){const t={},n=s(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const r=s(e,["serverContent"]);r!=null&&a(t,["serverContent"],r);const o=s(e,["toolCall"]);o!=null&&a(t,["toolCall"],o);const i=s(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const l=s(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],gE(l));const u=s(e,["goAway"]);u!=null&&a(t,["goAway"],u);const d=s(e,["sessionResumptionUpdate"]);return d!=null&&a(t,["sessionResumptionUpdate"],d),t}function fE(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=s(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=s(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],XT(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],ZT(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],Yo(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function pE(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Tm(e){const t={},n=s(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const r=s(e,["voiceConfig"]);if(r!=null&&a(t,["voiceConfig"],r),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function mE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=s(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],tE(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],nE(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function hE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>jT(m))),a(t,["functionDeclarations"],p)}const r=s(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function gE(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const r=s(e,["cachedContentTokenCount"]);r!=null&&a(t,["cachedContentTokenCount"],r);const o=s(e,["candidatesTokenCount"]);o!=null&&a(t,["responseTokenCount"],o);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const d=s(e,["promptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>E)),a(t,["promptTokensDetails"],y)}const c=s(e,["cacheTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(E=>E)),a(t,["cacheTokensDetails"],y)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(E=>E)),a(t,["responseTokensDetails"],y)}const p=s(e,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>E)),a(t,["toolUsePromptTokensDetails"],y)}const m=s(e,["trafficType"]);return m!=null&&a(t,["trafficType"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function vE(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const r=s(e,["citationMetadata"]);r!=null&&a(t,["citationMetadata"],TE(r));const o=s(e,["tokenCount"]);o!=null&&a(t,["tokenCount"],o);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&a(t,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&a(t,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),a(t,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function TE(e){const t={},n=s(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["citations"],r)}return t}function EE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let i=ot(o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function CE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),a(t,["tokensInfo"],o)}return t}function SE(e){const t={},n=s(e,["values"]);n!=null&&a(t,["values"],n);const r=s(e,["statistics"]);return r!=null&&a(t,["statistics"],_E(r)),t}function _E(e){const t={},n=s(e,["truncated"]);n!=null&&a(t,["truncated"],n);const r=s(e,["token_count"]);return r!=null&&a(t,["tokenCount"],r),t}function $i(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>MC(i))),a(t,["parts"],o)}const r=s(e,["role"]);return r!=null&&a(t,["role"],r),t}function xE(e){const t={},n=s(e,["controlType"]);n!=null&&a(t,["controlType"],n);const r=s(e,["enableControlImageComputation"]);return r!=null&&a(t,["computeControl"],r),t}function wE(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function IE(e,t){const n={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Re(r));const o=s(e,["tools"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>xm(u))),a(t,["tools"],l)}const i=s(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],yC(i)),n}function NE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>$i(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&wE(i),n}function AE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&IE(i,n),n}function kE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["totalTokens"]);r!=null&&a(t,["totalTokens"],r);const o=s(e,["cachedContentTokenCount"]);return o!=null&&a(t,["cachedContentTokenCount"],o),t}function PE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["totalTokens"]);return r!=null&&a(t,["totalTokens"],r),t}function RE(e,t){const n={},r=s(t,["model"]);return r!=null&&a(n,["_url","name"],b(e,r)),n}function ME(e,t){const n={},r=s(t,["model"]);return r!=null&&a(n,["_url","name"],b(e,r)),n}function DE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function LE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function UE(e,t){const n={},r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=s(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=s(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const y=s(e,["language"]);t!==void 0&&y!=null&&a(t,["parameters","language"],y);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=s(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const x=s(e,["addWatermark"]);t!==void 0&&x!=null&&a(t,["parameters","addWatermark"],x);const T=s(e,["labels"]);t!==void 0&&T!=null&&a(t,["labels"],T);const g=s(e,["editMode"]);t!==void 0&&g!=null&&a(t,["parameters","editMode"],g);const v=s(e,["baseSteps"]);return t!==void 0&&v!=null&&a(t,["parameters","editConfig","baseSteps"],v),n}function FE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=s(t,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>GC(d))),a(n,["instances[0]","referenceImages"],u)}const l=s(t,["config"]);return l!=null&&UE(l,n),n}function VE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Ji(i))),a(t,["generatedImages"],o)}return t}function GE(e,t){const n={},r=s(e,["taskType"]);t!==void 0&&r!=null&&a(t,["requests[]","taskType"],r);const o=s(e,["title"]);t!==void 0&&o!=null&&a(t,["requests[]","title"],o);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function HE(e,t){const n={},r=s(e,["taskType"]);t!==void 0&&r!=null&&a(t,["instances[]","task_type"],r);const o=s(e,["title"]);t!==void 0&&o!=null&&a(t,["instances[]","title"],o);const i=s(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const l=s(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function qE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let u=Ra(e,o);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const i=s(t,["config"]);i!=null&&GE(i,n);const l=s(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],b(e,l)),n}function BE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let l=Ra(e,o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(t,["config"]);return i!=null&&HE(i,n),n}function zE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["embeddings"],i)}const o=s(e,["metadata"]);return o!=null&&a(t,["metadata"],o),t}function $E(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>SE(l))),a(t,["embeddings"],i)}const o=s(e,["metadata"]);return o!=null&&a(t,["metadata"],o),t}function JE(e){const t={},n=s(e,["endpoint"]);n!=null&&a(t,["name"],n);const r=s(e,["deployedModelId"]);return r!=null&&a(t,["deployedModelId"],r),t}function OE(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function WE(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const r=s(e,["args"]);r!=null&&a(t,["args"],r);const o=s(e,["name"]);if(o!=null&&a(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KE(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const r=s(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function YE(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const o=s(e,["parameters"]);o!=null&&a(t,["parameters"],o);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function bE(e,t,n){const r={},o=s(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],$i(Re(o)));const i=s(t,["temperature"]);i!=null&&a(r,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(r,["topP"],l);const u=s(t,["topK"]);u!=null&&a(r,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(r,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&a(r,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(r,["logprobs"],m);const y=s(t,["presencePenalty"]);y!=null&&a(r,["presencePenalty"],y);const E=s(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=s(t,["seed"]);C!=null&&a(r,["seed"],C);const x=s(t,["responseMimeType"]);x!=null&&a(r,["responseMimeType"],x);const T=s(t,["responseSchema"]);T!=null&&a(r,["responseSchema"],Ma(T));const g=s(t,["responseJsonSchema"]);if(g!=null&&a(r,["responseJsonSchema"],g),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let J=v;Array.isArray(J)&&(J=J.map(fe=>HC(fe))),a(n,["safetySettings"],J)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let J=fr(S);Array.isArray(J)&&(J=J.map(fe=>WC(cr(fe)))),a(n,["tools"],J)}const I=s(t,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],OC(I)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=s(t,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],Ft(e,N));const k=s(t,["responseModalities"]);k!=null&&a(r,["responseModalities"],k);const A=s(t,["mediaResolution"]);A!=null&&a(r,["mediaResolution"],A);const U=s(t,["speechConfig"]);if(U!=null&&a(r,["speechConfig"],Da(U)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=s(t,["thinkingConfig"]);D!=null&&a(r,["thinkingConfig"],D);const W=s(t,["imageConfig"]);return W!=null&&a(r,["imageConfig"],SC(W)),r}function QE(e,t,n){const r={},o=s(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Re(o));const i=s(t,["temperature"]);i!=null&&a(r,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(r,["topP"],l);const u=s(t,["topK"]);u!=null&&a(r,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(r,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&a(r,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(r,["logprobs"],m);const y=s(t,["presencePenalty"]);y!=null&&a(r,["presencePenalty"],y);const E=s(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=s(t,["seed"]);C!=null&&a(r,["seed"],C);const x=s(t,["responseMimeType"]);x!=null&&a(r,["responseMimeType"],x);const T=s(t,["responseSchema"]);T!=null&&a(r,["responseSchema"],Ma(T));const g=s(t,["responseJsonSchema"]);g!=null&&a(r,["responseJsonSchema"],g);const v=s(t,["routingConfig"]);v!=null&&a(r,["routingConfig"],v);const S=s(t,["modelSelectionConfig"]);S!=null&&a(r,["modelConfig"],S);const I=s(t,["safetySettings"]);if(n!==void 0&&I!=null){let me=I;Array.isArray(me)&&(me=me.map(q=>q)),a(n,["safetySettings"],me)}const N=s(t,["tools"]);if(n!==void 0&&N!=null){let me=fr(N);Array.isArray(me)&&(me=me.map(q=>xm(cr(q)))),a(n,["tools"],me)}const k=s(t,["toolConfig"]);n!==void 0&&k!=null&&a(n,["toolConfig"],k);const A=s(t,["labels"]);n!==void 0&&A!=null&&a(n,["labels"],A);const U=s(t,["cachedContent"]);n!==void 0&&U!=null&&a(n,["cachedContent"],Ft(e,U));const D=s(t,["responseModalities"]);D!=null&&a(r,["responseModalities"],D);const W=s(t,["mediaResolution"]);W!=null&&a(r,["mediaResolution"],W);const J=s(t,["speechConfig"]);J!=null&&a(r,["speechConfig"],_m(Da(J)));const fe=s(t,["audioTimestamp"]);fe!=null&&a(r,["audioTimestamp"],fe);const lt=s(t,["thinkingConfig"]);lt!=null&&a(r,["thinkingConfig"],lt);const He=s(t,["imageConfig"]);return He!=null&&a(r,["imageConfig"],_C(He)),r}function vc(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>$i(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],bE(e,i,n)),n}function Tc(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],QE(e,i,n)),n}function Ec(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>vE(c))),a(t,["candidates"],d)}const o=s(e,["modelVersion"]);o!=null&&a(t,["modelVersion"],o);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function Cc(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),a(t,["candidates"],c)}const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const i=s(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(t,["responseId"],u);const d=s(e,["usageMetadata"]);return d!=null&&a(t,["usageMetadata"],d),t}function XE(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=s(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=s(e,["aspectRatio"]);t!==void 0&&o!=null&&a(t,["parameters","aspectRatio"],o);const i=s(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const d=s(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&a(t,["parameters","includeSafetyAttributes"],d);const c=s(e,["includeRaiReason"]);t!==void 0&&c!=null&&a(t,["parameters","includeRaiReason"],c);const f=s(e,["language"]);t!==void 0&&f!=null&&a(t,["parameters","language"],f);const p=s(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const m=s(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=s(e,["imageSize"]);if(t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ZE(e,t){const n={},r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=s(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=s(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const y=s(e,["language"]);t!==void 0&&y!=null&&a(t,["parameters","language"],y);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=s(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const x=s(e,["addWatermark"]);t!==void 0&&x!=null&&a(t,["parameters","addWatermark"],x);const T=s(e,["labels"]);t!==void 0&&T!=null&&a(t,["labels"],T);const g=s(e,["imageSize"]);t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g);const v=s(e,["enhancePrompt"]);return t!==void 0&&v!=null&&a(t,["parameters","enhancePrompt"],v),n}function jE(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=s(t,["config"]);return i!=null&&XE(i,n),n}function eC(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=s(t,["config"]);return i!=null&&ZE(i,n),n}function tC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>pC(l))),a(t,["generatedImages"],i)}const o=s(e,["positivePromptSafetyAttributes"]);return o!=null&&a(t,["positivePromptSafetyAttributes"],Cm(o)),t}function nC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Ji(l))),a(t,["generatedImages"],i)}const o=s(e,["positivePromptSafetyAttributes"]);return o!=null&&a(t,["positivePromptSafetyAttributes"],Sm(o)),t}function rC(e,t){const n={},r=s(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(e,["durationSeconds"]);if(t!==void 0&&o!=null&&a(t,["parameters","durationSeconds"],o),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const l=s(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(e,["negativePrompt"]);t!==void 0&&d!=null&&a(t,["parameters","negativePrompt"],d);const c=s(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&a(t,["parameters","enhancePrompt"],c),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);t!==void 0&&f!=null&&a(t,["instances[0]","lastFrame"],Oi(f));const p=s(e,["referenceImages"]);if(t!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>iS(y))),a(t,["instances[0]","referenceImages"],m)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function oC(e,t){const n={},r=s(e,["numberOfVideos"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const i=s(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const l=s(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=s(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const d=s(e,["aspectRatio"]);t!==void 0&&d!=null&&a(t,["parameters","aspectRatio"],d);const c=s(e,["resolution"]);t!==void 0&&c!=null&&a(t,["parameters","resolution"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["pubsubTopic"]);t!==void 0&&p!=null&&a(t,["parameters","pubsubTopic"],p);const m=s(e,["negativePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","negativePrompt"],m);const y=s(e,["enhancePrompt"]);t!==void 0&&y!=null&&a(t,["parameters","enhancePrompt"],y);const E=s(e,["generateAudio"]);t!==void 0&&E!=null&&a(t,["parameters","generateAudio"],E);const C=s(e,["lastFrame"]);t!==void 0&&C!=null&&a(t,["instances[0]","lastFrame"],gt(C));const x=s(e,["referenceImages"]);if(t!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(S=>sS(S))),a(t,["instances[0]","referenceImages"],v)}const T=s(e,["mask"]);t!==void 0&&T!=null&&a(t,["instances[0]","mask"],oS(T));const g=s(e,["compressionQuality"]);return t!==void 0&&g!=null&&a(t,["parameters","compressionQuality"],g),n}function iC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],uC(l)),t}function sC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],dC(l)),t}function lC(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],Oi(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],wm(l));const u=s(t,["source"]);u!=null&&cC(u,n);const d=s(t,["config"]);return d!=null&&rC(d,n),n}function aC(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],gt(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],Im(l));const u=s(t,["source"]);u!=null&&fC(u,n);const d=s(t,["config"]);return d!=null&&oC(d,n),n}function uC(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>hC(l))),a(t,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function dC(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>gC(l))),a(t,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function cC(e,t){const n={},r=s(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=s(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],Oi(o));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],wm(i)),n}function fC(e,t){const n={},r=s(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=s(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],gt(o));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],Im(i)),n}function pC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],xC(n));const r=s(e,["raiFilteredReason"]);r!=null&&a(t,["raiFilteredReason"],r);const o=s(e,["_self"]);return o!=null&&a(t,["safetyAttributes"],Cm(o)),t}function Ji(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],Em(n));const r=s(e,["raiFilteredReason"]);r!=null&&a(t,["raiFilteredReason"],r);const o=s(e,["_self"]);o!=null&&a(t,["safetyAttributes"],Sm(o));const i=s(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function mC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["mask"],Em(n));const r=s(e,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),a(t,["labels"],o)}return t}function hC(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],nS(n)),t}function gC(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],rS(n)),t}function yC(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const r=s(e,["responseJsonSchema"]);r!=null&&a(t,["responseJsonSchema"],r);const o=s(e,["audioTimestamp"]);o!=null&&a(t,["audioTimestamp"],o);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(t,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const y=s(e,["responseMimeType"]);y!=null&&a(t,["responseMimeType"],y);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=s(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const x=s(e,["routingConfig"]);x!=null&&a(t,["routingConfig"],x);const T=s(e,["seed"]);T!=null&&a(t,["seed"],T);const g=s(e,["speechConfig"]);g!=null&&a(t,["speechConfig"],_m(g));const v=s(e,["stopSequences"]);v!=null&&a(t,["stopSequences"],v);const S=s(e,["temperature"]);S!=null&&a(t,["temperature"],S);const I=s(e,["thinkingConfig"]);I!=null&&a(t,["thinkingConfig"],I);const N=s(e,["topK"]);N!=null&&a(t,["topK"],N);const k=s(e,["topP"]);if(k!=null&&a(t,["topP"],k),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vC(e,t){const n={},r=s(t,["model"]);return r!=null&&a(n,["_url","name"],b(e,r)),n}function TC(e,t){const n={},r=s(t,["model"]);return r!=null&&a(n,["_url","name"],b(e,r)),n}function EC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function CC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function SC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=s(e,["imageSize"]);if(r!=null&&a(t,["imageSize"],r),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _C(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=s(e,["imageSize"]);r!=null&&a(t,["imageSize"],r);const o=s(e,["outputMimeType"]);o!=null&&a(t,["imageOutputOptions","mimeType"],o);const i=s(e,["outputCompressionQuality"]);return i!=null&&a(t,["imageOutputOptions","compressionQuality"],i),t}function xC(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],an(n));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Em(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const r=s(e,["bytesBase64Encoded"]);r!=null&&a(t,["imageBytes"],an(r));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Oi(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],an(n));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function gt(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const r=s(e,["imageBytes"]);r!=null&&a(t,["bytesBase64Encoded"],an(r));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function wC(e,t,n){const r={},o=s(t,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],fm(e,u)),r}function IC(e,t,n){const r={},o=s(t,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],fm(e,u)),r}function NC(e,t){const n={},r=s(t,["config"]);return r!=null&&wC(e,r,n),n}function AC(e,t){const n={},r=s(t,["config"]);return r!=null&&IC(e,r,n),n}function kC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["_self"]);if(o!=null){let i=pm(o);Array.isArray(i)&&(i=i.map(l=>wl(l))),a(t,["models"],i)}return t}function PC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["_self"]);if(o!=null){let i=pm(o);Array.isArray(i)&&(i=i.map(l=>Il(l))),a(t,["models"],i)}return t}function RC(e){const t={},n=s(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const r=s(e,["segmentationClasses"]);r!=null&&a(t,["maskClasses"],r);const o=s(e,["maskDilation"]);return o!=null&&a(t,["dilation"],o),t}function wl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=s(e,["description"]);o!=null&&a(t,["description"],o);const i=s(e,["version"]);i!=null&&a(t,["version"],i);const l=s(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],KC(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const d=s(e,["outputTokenLimit"]);d!=null&&a(t,["outputTokenLimit"],d);const c=s(e,["supportedGenerationMethods"]);c!=null&&a(t,["supportedActions"],c);const f=s(e,["temperature"]);f!=null&&a(t,["temperature"],f);const p=s(e,["maxTemperature"]);p!=null&&a(t,["maxTemperature"],p);const m=s(e,["topP"]);m!=null&&a(t,["topP"],m);const y=s(e,["topK"]);y!=null&&a(t,["topK"],y);const E=s(e,["thinking"]);return E!=null&&a(t,["thinking"],E),t}function Il(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=s(e,["description"]);o!=null&&a(t,["description"],o);const i=s(e,["versionId"]);i!=null&&a(t,["version"],i);const l=s(e,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>JE(m))),a(t,["endpoints"],p)}const u=s(e,["labels"]);u!=null&&a(t,["labels"],u);const d=s(e,["_self"]);d!=null&&a(t,["tunedModelInfo"],YC(d));const c=s(e,["defaultCheckpointId"]);c!=null&&a(t,["defaultCheckpointId"],c);const f=s(e,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["checkpoints"],p)}return t}function MC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=s(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=s(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],OE(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],WE(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],yE(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function DC(e){const t={},n=s(e,["productImage"]);return n!=null&&a(t,["image"],gt(n)),t}function LC(e,t){const n={},r=s(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=s(e,["baseSteps"]);t!==void 0&&o!=null&&a(t,["parameters","baseSteps"],o);const i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const l=s(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&a(t,["parameters","personGeneration"],d);const c=s(e,["addWatermark"]);t!==void 0&&c!=null&&a(t,["parameters","addWatermark"],c);const f=s(e,["outputMimeType"]);t!==void 0&&f!=null&&a(t,["parameters","outputOptions","mimeType"],f);const p=s(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p);const m=s(e,["enhancePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","enhancePrompt"],m);const y=s(e,["labels"]);return t!==void 0&&y!=null&&a(t,["labels"],y),n}function UC(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["source"]);o!=null&&VC(o,n);const i=s(t,["config"]);return i!=null&&LC(i,n),n}function FC(e){const t={},n=s(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Ji(o))),a(t,["generatedImages"],r)}return t}function VC(e,t){const n={},r=s(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=s(e,["personImage"]);t!==void 0&&o!=null&&a(t,["instances[0]","personImage","image"],gt(o));const i=s(e,["productImages"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>DC(u))),a(t,["instances[0]","productImages"],l)}return n}function GC(e){const t={},n=s(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],gt(n));const r=s(e,["referenceId"]);r!=null&&a(t,["referenceId"],r);const o=s(e,["referenceType"]);o!=null&&a(t,["referenceType"],o);const i=s(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],RC(i));const l=s(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],xE(l));const u=s(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const d=s(e,["subjectImageConfig"]);return d!=null&&a(t,["subjectImageConfig"],d),t}function Cm(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const r=s(e,["safetyAttributes","scores"]);r!=null&&a(t,["scores"],r);const o=s(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function Sm(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const r=s(e,["safetyAttributes","scores"]);r!=null&&a(t,["scores"],r);const o=s(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function HC(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=s(e,["threshold"]);return r!=null&&a(t,["threshold"],r),t}function qC(e){const t={},n=s(e,["image"]);return n!=null&&a(t,["image"],gt(n)),t}function BC(e,t){const n={},r=s(e,["mode"]);t!==void 0&&r!=null&&a(t,["parameters","mode"],r);const o=s(e,["maxPredictions"]);t!==void 0&&o!=null&&a(t,["parameters","maxPredictions"],o);const i=s(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const l=s(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const d=s(e,["labels"]);return t!==void 0&&d!=null&&a(t,["labels"],d),n}function zC(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["source"]);o!=null&&JC(o,n);const i=s(t,["config"]);return i!=null&&BC(i,n),n}function $C(e){const t={},n=s(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>mC(o))),a(t,["generatedMasks"],r)}return t}function JC(e,t){const n={},r=s(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=s(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],gt(o));const i=s(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],qC(i)),n}function _m(e){const t={},n=s(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const r=s(e,["voiceConfig"]);if(r!=null&&a(t,["voiceConfig"],r),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function OC(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],KE(n));const r=s(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function WC(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=s(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],EC(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],CC(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function xm(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>YE(m))),a(t,["functionDeclarations"],p)}const r=s(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function KC(e){const t={},n=s(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const o=s(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function YC(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const o=s(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function bC(e,t){const n={},r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=s(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function QC(e,t){const n={},r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=s(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function XC(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","name"],b(e,r));const o=s(t,["config"]);return o!=null&&bC(o,n),n}function ZC(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["config"]);return o!=null&&QC(o,n),n}function jC(e,t){const n={},r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=s(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&a(t,["parameters","safetySetting"],o);const i=s(e,["personGeneration"]);t!==void 0&&i!=null&&a(t,["parameters","personGeneration"],i);const l=s(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const d=s(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&a(t,["parameters","outputOptions","compressionQuality"],d);const c=s(e,["enhanceInputImage"]);t!==void 0&&c!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=s(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const m=s(e,["numberOfImages"]);t!==void 0&&m!=null&&a(t,["parameters","sampleCount"],m);const y=s(e,["mode"]);return t!==void 0&&y!=null&&a(t,["parameters","mode"],y),n}function eS(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["_url","model"],b(e,r));const o=s(t,["image"]);o!=null&&a(n,["instances[0]","image"],gt(o));const i=s(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(t,["config"]);return l!=null&&jC(l,n),n}function tS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Ji(i))),a(t,["generatedImages"],o)}return t}function nS(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const r=s(e,["encodedVideo"]);r!=null&&a(t,["videoBytes"],an(r));const o=s(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function rS(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const r=s(e,["bytesBase64Encoded"]);r!=null&&a(t,["videoBytes"],an(r));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function oS(e){const t={},n=s(e,["image"]);n!=null&&a(t,["_self"],gt(n));const r=s(e,["maskMode"]);return r!=null&&a(t,["maskMode"],r),t}function iS(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],Oi(n));const r=s(e,["referenceType"]);return r!=null&&a(t,["referenceType"],r),t}function sS(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],gt(n));const r=s(e,["referenceType"]);return r!=null&&a(t,["referenceType"],r),t}function wm(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const r=s(e,["videoBytes"]);r!=null&&a(t,["encodedVideo"],an(r));const o=s(e,["mimeType"]);return o!=null&&a(t,["encoding"],o),t}function Im(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const r=s(e,["videoBytes"]);r!=null&&a(t,["bytesBase64Encoded"],an(r));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lS(e,t){const n={},r=s(e,["displayName"]);return t!==void 0&&r!=null&&a(t,["displayName"],r),n}function aS(e){const t={},n=s(e,["config"]);return n!=null&&lS(n,t),t}function uS(e,t){const n={},r=s(e,["force"]);return t!==void 0&&r!=null&&a(t,["_query","force"],r),n}function dS(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const r=s(e,["config"]);return r!=null&&uS(r,t),t}function cS(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function fS(e,t){const n={},r=s(e,["customMetadata"]);if(t!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["customMetadata"],i)}const o=s(e,["chunkingConfig"]);return t!==void 0&&o!=null&&a(t,["chunkingConfig"],o),n}function pS(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=s(e,["done"]);o!=null&&a(t,["done"],o);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],hS(l)),t}function mS(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const r=s(e,["fileName"]);r!=null&&a(t,["fileName"],r);const o=s(e,["config"]);return o!=null&&fS(o,t),t}function hS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["parent"]);r!=null&&a(t,["parent"],r);const o=s(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function gS(e,t){const n={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function yS(e){const t={},n=s(e,["config"]);return n!=null&&gS(n,t),t}function vS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["fileSearchStores"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["fileSearchStores"],i)}return t}function Nm(e,t){const n={},r=s(e,["mimeType"]);t!==void 0&&r!=null&&a(t,["mimeType"],r);const o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),a(t,["customMetadata"],u)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function TS(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const r=s(e,["config"]);return r!=null&&Nm(r,t),t}function ES(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CS="Content-Type",SS="X-Server-Timeout",_S="User-Agent",Nl="x-goog-api-client",xS="1.31.0",wS=`google-genai-sdk/${xS}`,IS="v1beta1",NS="v1beta",Sc=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class AS{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:IS,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:NS,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))o.searchParams.append(l,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),t.abortSignal),this.unaryApiCall(o,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),t.abortSignal),this.streamApiCall(o,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,o){if(n&&n.timeout||o){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),t.signal=l}return n&&n.extraBody!==null&&kS(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await _c(o),new Sl(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await _c(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return jn(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield re(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),y=m.status,E=m.code,C=`got status: ${y}. ${JSON.stringify(p)}`;if(E>=400&&E<600)throw new zi({message:C,status:E})}}catch(p){if(p.name==="ApiError")throw p}l+=c;let f=l.match(Sc);for(;f;){const p=f[1];try{const m=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield re(new Sl(m)),l=l.slice(f[0].length),f=l.match(Sc)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=wS+" "+this.clientOptions.userAgentExtra;return t[_S]=n,t[Nl]=n,t[CS]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[o,i]of Object.entries(t.headers))r.append(o,i);t.timeout&&t.timeout>0&&r.append(SS,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);o.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const d={file:o},c=this.getFileName(t),f=L("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,c,d,n==null?void 0:n.httpOptions);return i.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var o;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),d=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&Nm(r,p);const m=await this.fetchUploadUrl(c,u,d,f,p,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,o,i,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const c=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function _c(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new zi({message:o,status:n}):new Error(o)}}function kS(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,l){const u=Object.assign({},i);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const o=r(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PS="mcp_used/unknown";let RS=!1;function Am(e){for(const t of e)if(MS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return RS}function km(e){var t;const n=(t=e[Nl])!==null&&t!==void 0?t:"";e[Nl]=(n+` ${PS}`).trimStart()}function MS(e){return e!==null&&typeof e=="object"&&e instanceof Ua}function DS(e,t=100){return jn(this,arguments,function*(){let r,o=0;for(;o<t;){const i=yield re(e.listTools({cursor:r}));for(const l of i.tools)yield yield re(l),o++;if(!i.nextCursor)break;r=i.nextCursor}})}class Ua{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ua(t,n)}async initialize(){var t,n,r,o;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,Fr(DS(f))),c;c=await d.next(),t=c.done,!t;u=!0){o=c.value,u=!1;const p=o;l.push(p);const m=p.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=f}}catch(p){n={error:p}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),c0(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await o.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LS(e,t,n){const r=new r0;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),t(r)}class US{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=GS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(v=>{c=v}),p=t.callbacks,m=function(){c({})},y=this.apiClient,E={onopen:m,onmessage:v=>{LS(y,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(v){}},C=this.webSocketFactory.create(d,VS(l),E);C.connect(),await f;const g={setup:{model:b(this.apiClient,t.model)}};return C.send(JSON.stringify(g)),new FS(C,this.apiClient)}}class FS{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=aE(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=lE(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(On.PLAY)}pause(){this.sendPlaybackControl(On.PAUSE)}stop(){this.sendPlaybackControl(On.STOP)}resetContext(){this.sendPlaybackControl(On.RESET_CONTEXT)}close(){this.conn.close()}}function VS(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function GS(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qS(e,t,n){const r=new n0;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const i=JSON.parse(o);if(e.isVertexAI()){const l=cE(i);Object.assign(r,l)}else Object.assign(r,i);t(r)}class BS{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new US(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,o,i,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&Am(t.config.tools)&&km(p);const m=OS(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const U=this.apiClient.getApiKey();let D="BidiGenerateContent",W="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",W="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${D}?${W}=${U}`}let y=()=>{};const E=new Promise(U=>{y=U}),C=t.callbacks,x=function(){var U;(U=C==null?void 0:C.onopen)===null||U===void 0||U.call(C),y({})},T=this.apiClient,g={onopen:x,onmessage:U=>{qS(T,C.onmessage,U)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(U){}},v=this.webSocketFactory.create(f,JS(m),g);v.connect(),await E;let S=b(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const U=this.apiClient.getProject(),D=this.apiClient.getLocation();S=`projects/${U}/locations/${D}/`+S}let I={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ei.AUDIO]}:t.config.responseModalities=[Ei.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const U of N)if(this.isCallableTool(U)){const D=U;k.push(await D.tool())}else k.push(U);k.length>0&&(t.config.tools=k);const A={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=sE(this.apiClient,A):I=iE(this.apiClient,A),delete I.config,v.send(JSON.stringify(I)),new $S(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const zS={turnComplete:!0};class $S{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ot(n.turns),t.isVertexAI()||(r=r.map(o=>$i(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(HS)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},zS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:dE(t)}:n={realtimeInput:uE(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JS(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function OS(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xc=10;function wc(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(er(l)){o=!0;break}if(!o)return!0;const i=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function er(e){return"callTool"in e&&typeof e.callTool=="function"}function WS(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>er(o)))!==null&&r!==void 0?r:!1}function Ic(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,o)=>{if(er(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(o)}),n}function Nc(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KS extends Ut{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,o,i,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!WS(n)||wc(n.config))return await this.generateContentInternal(d);const c=Ic(n);if(c.length>0){const C=c.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let f,p;const m=ot(d.contents),y=(i=(o=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:xc;let E=0;for(;E<y&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,x=[];for(const T of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(er(T)){const v=await T.callTool(f.functionCalls);x.push(...v)}E++,p={role:"user",parts:x},d.contents=ot(d.contents),d.contents.push(C),d.contents.push(p),Nc(d.config)&&(m.push(C),m.push(p))}return Nc(d.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{var r,o,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),wc(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const d=Ic(n);if(d.length>0){const p=d.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:l.push(d);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Pn(Dt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,i,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,o;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const l=await Promise.all(i.map(async d=>er(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&Am(t.config.tools)){const d=(o=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),km(c),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(t){var n,r,o;const i=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(er(l)){const u=l,d=await u.tool();for(const c of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(t){var n,r,o;const i=(o=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:xc;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return function(c,f,p){var m,y;return jn(this,arguments,function*(){for(var E,C,x,T;u<i;){l&&(u++,l=!1);const I=yield re(c.processParamsMaybeAddMcpUsage(p)),N=yield re(c.generateContentStreamInternal(I)),k=[],A=[];try{for(var g=!0,v=(C=void 0,Fr(N)),S;S=yield re(v.next()),E=S.done,!E;g=!0){T=S.value,g=!1;const U=T;if(yield yield re(U),U.candidates&&(!((m=U.candidates[0])===null||m===void 0)&&m.content)){A.push(U.candidates[0].content);for(const D of(y=U.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(D.functionCall.name)){const W=yield re(f.get(D.functionCall.name).callTool([D.functionCall]));k.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(U){C={error:U}}finally{try{!g&&!E&&(x=v.return)&&(yield re(x.call(v)))}finally{if(C)throw C.error}}if(k.length>0){l=!0;const U=new Sr;U.candidates=[{content:{role:"user",parts:k}}],yield yield re(U);const D=[];D.push(...A),D.push({role:"user",parts:k});const W=ot(p.contents).concat(D);p.contents=W}else break}})}(this,d,t)}async generateContentInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Tc(this.apiClient,t);return u=L("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Cc(f),m=new Sr;return Object.assign(m,p),m})}else{const c=vc(this.apiClient,t);return u=L("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Ec(f),m=new Sr;return Object.assign(m,p),m})}}async generateContentStreamInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Tc(this.apiClient,t);return u=L("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return jn(this,arguments,function*(){var m,y,E,C;try{for(var x=!0,T=Fr(p),g;g=yield re(T.next()),m=g.done,!m;x=!0){C=g.value,x=!1;const v=C,S=Cc(yield re(v.json()));S.sdkHttpResponse={headers:v.headers};const I=new Sr;Object.assign(I,S),yield yield re(I)}}catch(v){y={error:v}}finally{try{!x&&!m&&(E=T.return)&&(yield re(E.call(T)))}finally{if(y)throw y.error}}})})}else{const c=vc(this.apiClient,t);return u=L("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return jn(this,arguments,function*(){var m,y,E,C;try{for(var x=!0,T=Fr(p),g;g=yield re(T.next()),m=g.done,!m;x=!0){C=g.value,x=!1;const v=C,S=Ec(yield re(v.json()));S.sdkHttpResponse={headers:v.headers};const I=new Sr;Object.assign(I,S),yield yield re(I)}}catch(v){y={error:v}}finally{try{!x&&!m&&(E=T.return)&&(yield re(E.call(T)))}finally{if(y)throw y.error}}})})}}async embedContent(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=BE(this.apiClient,t);return u=L("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=$E(f),m=new tc;return Object.assign(m,p),m})}else{const c=qE(this.apiClient,t);return u=L("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=zE(f),m=new tc;return Object.assign(m,p),m})}}async generateImagesInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=eC(this.apiClient,t);return u=L("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=nC(f),m=new nc;return Object.assign(m,p),m})}else{const c=jE(this.apiClient,t);return u=L("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=tC(f),m=new nc;return Object.assign(m,p),m})}}async editImageInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const u=FE(this.apiClient,t);return i=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=VE(d),f=new Ov;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const u=eS(this.apiClient,t);return i=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=tS(d),f=new Wv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const u=UC(this.apiClient,t);return i=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=FC(d),f=new Kv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const u=zC(this.apiClient,t);return i=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=$C(d),f=new Yv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=TC(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Il(f))}else{const c=vC(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>wl(f))}}async listInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=AC(this.apiClient,t);return u=L("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=PC(f),m=new rc;return Object.assign(m,p),m})}else{const c=NC(this.apiClient,t);return u=L("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=kC(f),m=new rc;return Object.assign(m,p),m})}}async update(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ZC(this.apiClient,t);return u=L("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Il(f))}else{const c=XC(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>wl(f))}}async delete(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ME(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=LE(f),m=new oc;return Object.assign(m,p),m})}else{const c=RE(this.apiClient,t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=DE(f),m=new oc;return Object.assign(m,p),m})}}async countTokens(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=AE(this.apiClient,t);return u=L("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=PE(f),m=new ic;return Object.assign(m,p),m})}else{const c=NE(this.apiClient,t);return u=L("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=kE(f),m=new ic;return Object.assign(m,p),m})}}async computeTokens(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const u=EE(this.apiClient,t);return i=L("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=CE(d),f=new bv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=aC(this.apiClient,t);return u=L("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const p=sC(f),m=new Ci;return Object.assign(m,p),m})}else{const c=lC(this.apiClient,t);return u=L("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const p=iC(f),m=new Ci;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YS extends Ut{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Hv(t);return u=L("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}else{const c=Gv(t);return u=L("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const u=Rv(t);return i=L("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function QS(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i_(i))),a(t,["parts"],o)}const r=s(e,["role"]);return r!=null&&a(t,["role"],r),t}function XS(e,t,n){const r={},o=s(t,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const i=s(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],o_(e,u));const d=s(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),r}function ZS(e,t){const n={},r=s(t,["config"]);return r!=null&&a(n,["config"],XS(e,r,n)),n}function jS(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function e_(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const r=s(e,["args"]);r!=null&&a(t,["args"],r);const o=s(e,["name"]);if(o!=null&&a(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function t_(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function n_(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function r_(e,t){const n={},r=s(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],r);const o=s(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],La(p));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],QS(Re(E)));const C=s(e,["tools"]);if(t!==void 0&&C!=null){let N=fr(C);Array.isArray(N)&&(N=N.map(k=>l_(cr(k)))),a(t,["setup","tools"],N)}const x=s(e,["sessionResumption"]);t!==void 0&&x!=null&&a(t,["setup","sessionResumption"],s_(x));const T=s(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&a(t,["setup","inputAudioTranscription"],T);const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&a(t,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const I=s(e,["proactivity"]);return t!==void 0&&I!=null&&a(t,["setup","proactivity"],I),n}function o_(e,t){const n={},r=s(t,["model"]);r!=null&&a(n,["setup","model"],b(e,r));const o=s(t,["config"]);return o!=null&&a(n,["config"],r_(o,n)),n}function i_(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=s(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=s(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],jS(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],e_(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],bS(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function s_(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function l_(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=s(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],t_(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],n_(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(i=>`${n}.${i}`);t.push(...o)}else t.push(n)}return t.join(",")}function u_(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const i=a_(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class d_ extends Ut{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ZS(this.apiClient,t);i=L("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=u_(u,t.config);return o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(e,t){const n={},r=s(e,["force"]);return t!==void 0&&r!=null&&a(t,["_query","force"],r),n}function f_(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const r=s(e,["config"]);return r!=null&&c_(r,t),t}function p_(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function m_(e,t){const n={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function h_(e){const t={},n=s(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const r=s(e,["config"]);return r!=null&&m_(r,t),t}function g_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=s(e,["documents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y_ extends Ut{constructor(t){super(),this.apiClient=t,this.list=async n=>new Pn(Dt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p_(t);return i=L("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=f_(t);o=L("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h_(t);return i=L("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=g_(d),f=new Qv;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v_ extends Ut{constructor(t,n=new y_(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Pn(Dt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aS(t);return i=L("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cS(t);return i=L("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dS(t);o=L("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yS(t);return i=L("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=vS(d),f=new Xv;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TS(t);return i=L("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=ES(d),f=new Zv;return Object.assign(f,c),f})}}async importFile(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mS(t);return i=L("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=pS(d),f=new ka;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(e,t){const n={},r=s(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function E_(e,t){const n={},r=s(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function C_(e,t){const n={},r=s(e,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function S_(e,t){const n={},r=s(e,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function __(e,t,n){const r={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&a(t,["displayName"],o),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const d=s(e,["learningRate"]);if(t!==void 0&&d!=null&&a(t,["tuningTask","hyperparameters","learningRate"],d),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function x_(e,t,n){const r={};let o=s(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const y=s(e,["validationDataset"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec"],Ac(y))}else if(o==="PREFERENCE_TUNING"){const y=s(e,["validationDataset"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec"],Ac(y))}const i=s(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=s(e,["epochCount"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(u==="PREFERENCE_TUNING"){const y=s(e,["epochCount"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=s(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(d==="PREFERENCE_TUNING"){const y=s(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=s(e,["exportLastCheckpointOnly"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(c==="PREFERENCE_TUNING"){const y=s(e,["exportLastCheckpointOnly"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=s(e,["adapterSize"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=s(e,["adapterSize"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const m=s(e,["beta"]);return t!==void 0&&m!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function w_(e,t){const n={},r=s(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=s(e,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const i=s(e,["trainingDataset"]);i!=null&&F_(i);const l=s(e,["config"]);return l!=null&&__(l,n),n}function I_(e,t){const n={},r=s(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=s(e,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const i=s(e,["trainingDataset"]);i!=null&&V_(i,n,t);const l=s(e,["config"]);return l!=null&&x_(l,n,t),n}function N_(e,t){const n={},r=s(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function A_(e,t){const n={},r=s(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function k_(e,t,n){const r={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),r}function P_(e,t,n){const r={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),r}function R_(e,t){const n={},r=s(e,["config"]);return r!=null&&k_(r,n),n}function M_(e,t){const n={},r=s(e,["config"]);return r!=null&&P_(r,n),n}function D_(e,t){const n={},r=s(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const i=s(e,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Pm(u))),a(n,["tuningJobs"],l)}return n}function L_(e,t){const n={},r=s(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const i=s(e,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Al(u))),a(n,["tuningJobs"],l)}return n}function U_(e,t){const n={},r=s(e,["name"]);r!=null&&a(n,["model"],r);const o=s(e,["name"]);return o!=null&&a(n,["endpoint"],o),n}function F_(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=s(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),a(n,["examples","examples"],o)}return n}function V_(e,t,n){const r={};let o=s(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Pm(e,t){const n={},r=s(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const i=s(e,["state"]);i!=null&&a(n,["state"],dm(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=s(e,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(e,["description"]);f!=null&&a(n,["description"],f);const p=s(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=s(e,["_self"]);return m!=null&&a(n,["tunedModel"],U_(m)),n}function Al(e,t){const n={},r=s(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const i=s(e,["state"]);i!=null&&a(n,["state"],dm(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(e,["error"]);f!=null&&a(n,["error"],f);const p=s(e,["description"]);p!=null&&a(n,["description"],p);const m=s(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const y=s(e,["tunedModel"]);y!=null&&a(n,["tunedModel"],y);const E=s(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const C=s(e,["supervisedTuningSpec"]);C!=null&&a(n,["supervisedTuningSpec"],C);const x=s(e,["preferenceOptimizationSpec"]);x!=null&&a(n,["preferenceOptimizationSpec"],x);const T=s(e,["tuningDataStats"]);T!=null&&a(n,["tuningDataStats"],T);const g=s(e,["encryptionSpec"]);g!=null&&a(n,["encryptionSpec"],g);const v=s(e,["partnerModelTuningSpec"]);v!=null&&a(n,["partnerModelTuningSpec"],v);const S=s(e,["customBaseModel"]);S!=null&&a(n,["customBaseModel"],S);const I=s(e,["experiment"]);I!=null&&a(n,["experiment"],I);const N=s(e,["labels"]);N!=null&&a(n,["labels"],N);const k=s(e,["outputUri"]);k!=null&&a(n,["outputUri"],k);const A=s(e,["pipelineJob"]);A!=null&&a(n,["pipelineJob"],A);const U=s(e,["serviceAccount"]);U!=null&&a(n,["serviceAccount"],U);const D=s(e,["tunedModelDisplayName"]);D!=null&&a(n,["tunedModelDisplayName"],D);const W=s(e,["veoTuningSpec"]);return W!=null&&a(n,["veoTuningSpec"],W),n}function G_(e,t){const n={},r=s(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const u=s(e,["error"]);return u!=null&&a(n,["error"],u),n}function Ac(e,t){const n={},r=s(e,["gcsUri"]);r!=null&&a(n,["validationDatasetUri"],r);const o=s(e,["vertexDatasetResource"]);return o!=null&&a(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H_ extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Dt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),i=await this.tuneMldevInternal(o);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Cl.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=A_(t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Al(f))}else{const c=N_(t);return u=L("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Pm(f))}}async listInternal(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=M_(t);return u=L("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=L_(f),m=new sc;return Object.assign(m,p),m})}else{const c=R_(t);return u=L("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=D_(f),m=new sc;return Object.assign(m,p),m})}}async cancel(t){var n,r,o,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=E_(t);return u=L("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=S_(f),m=new lc;return Object.assign(m,p),m})}else{const c=T_(t);return u=L("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=C_(f),m=new lc;return Object.assign(m,p),m})}}async tuneInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI()){const u=I_(t,t);return i=L("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>Al(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=w_(t);return i=L("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>G_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q_{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const B_=1024*1024*8,z_=3,$_=1e3,J_=2,_i="x-goog-upload-status";async function O_(e,t,n){var r;const o=await Rm(e,t,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[_i])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function W_(e,t,n){var r;const o=await Rm(e,t,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[_i])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=om(i),u=new Pa;return Object.assign(u,l),u}async function Rm(e,t,n){var r,o;let i=0,l=0,u=new Sl(new Response),d="upload";for(i=e.size;l<i;){const c=Math.min(B_,i-l),f=e.slice(l,l+c);l+c>=i&&(d+=", finalize");let p=0,m=$_;for(;p<z_&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[_i]));)p++,await Y_(m),m=m*J_;if(l+=c,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[_i])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function K_(e){return{size:e.size,type:e.type}}function Y_(e){return new Promise(t=>setTimeout(t,e))}class b_{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await O_(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await W_(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await K_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_{create(t,n,r){return new X_(t,n,r)}}class X_{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kc="x-goog-api-key";class Z_{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(kc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(kc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j_="gl-node/";class ex{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=kv(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const o=new Z_(this.apiKey);this.apiClient=new AS({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:j_+"web",uploader:new b_,downloader:new q_}),this.models=new KS(this.apiClient),this.live=new BS(this.apiClient,o,new Q_),this.batches=new oT(this.apiClient),this.chats=new HT(this.models,this.apiClient),this.caches=new FT(this.apiClient),this.files=new bT(this.apiClient),this.operations=new YS(this.apiClient),this.authTokens=new d_(this.apiClient),this.tunings=new H_(this.apiClient),this.fileSearchStores=new v_(this.apiClient)}}const tx=async(e,t,n)=>{if(!e)throw new Error("Clave API no configurada.");const r=n.filter(f=>f.status===xe.COMPLETED),o=n.filter(f=>f.status===xe.PENDING),i=new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),l=new Date().toLocaleTimeString("es-ES"),u=r.map(f=>`- ${f.title} (${f.category}): ${f.notes||"Sin notas adicionales."}`).join(`
`),d=o.map(f=>`- ${f.title} (Prioridad: ${f.priority})`).join(`
`),c=`
    Acta como un asistente administrativo profesional. Tu tarea es redactar un informe de entrega de turno formal y coherente en espaol.
    
    **Datos del Turno:**
    - Empleado: ${t.fullName}
    - Fecha: ${i}
    - Hora de corte: ${l}
    
    **Tareas Completadas y Observaciones:**
    ${u||"Ninguna tarea completada en este periodo."}
    
    **Pendientes para el siguiente turno:**
    ${d||"No quedan tareas pendientes asignadas."}
    
    **Instrucciones de redaccin:**
    1. Genera un solo prrafo narrativo fluido (no una lista con vietas, integra la informacin en el texto).
    2. Empieza con un saludo formal indicando la fecha y horario.
    3. Resume las tareas completadas destacando las notas/observaciones si existen.
    4. Menciona claramente qu queda pendiente.
    5. Termina con un cierre profesional y el nombre del empleado.
    6. El tono debe ser corporativo y eficiente.
  `;try{return(await new ex({apiKey:e}).models.generateContent({model:"gemini-2.5-flash",contents:c,config:{temperature:.7}})).text||"Error: No se pudo generar el texto."}catch(f){throw console.error("Error generating report:",f),f}},nx=()=>{const{tasks:e,apiKey:t,themeMode:n}=w.useContext(ln),{currentUser:r,logout:o}=w.useContext(kn),i=Ia(),[l,u]=w.useState(""),[d,c]=w.useState(!1),[f,p]=w.useState(null),[m,y]=w.useState(!1),[E,C]=w.useState(!1),x=n==="christmas",T=w.useMemo(()=>e.filter(S=>S.assignedTo===(r==null?void 0:r.id)),[e,r]);w.useEffect(()=>{(async()=>{if(r){if(!t){p("Falta la API Key de Google Gemini. Contacte al administrador.");return}c(!0),p(null);try{const I=await tx(t,r,T);u(I)}catch{p("Error conectando con Gemini AI. Por favor intente nuevamente.")}finally{c(!1)}}})()},[]);const g=()=>{navigator.clipboard.writeText(l),y(!0),setTimeout(()=>y(!1),2e3)},v=()=>{C(!0)};return E?h.jsxs("div",{className:"max-w-md mx-auto mt-20 bg-white dark:bg-slate-800 p-8 rounded-lg shadow-xl text-center border border-gray-200 dark:border-slate-700",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Turno Finalizado?"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Has generado el informe. Deseas cerrar tu sesin ahora?"}),h.jsxs("div",{className:"flex gap-4 justify-center",children:[h.jsx(K,{variant:"ghost",onClick:()=>C(!1),children:"Cancelar"}),h.jsx(K,{variant:"danger",onClick:o,isChristmas:x,children:"S, Cerrar Sesin"})]})]}):h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("div",{className:"mb-6",children:h.jsxs("button",{onClick:()=>i(-1),className:"flex items-center text-gray-500 hover:text-blue-600 transition-colors",children:[h.jsx(dv,{size:20,className:"mr-1"})," Volver al Checklist"]})}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-slate-700",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-white",children:[h.jsx("h1",{className:"text-2xl font-bold flex items-center gap-2",children:"Generador de Informe de Turno"}),h.jsx("p",{className:"opacity-90 text-sm mt-1",children:"Generado automticamente con Gemini AI 2.5 Flash"})]}),h.jsx("div",{className:"p-8",children:d?h.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),h.jsx("p",{className:"text-gray-500 animate-pulse",children:"Analizando tareas y redactando informe..."})]}):f?h.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg border border-red-200 text-center",children:[h.jsx("p",{children:f}),h.jsx(K,{onClick:()=>window.location.reload(),className:"mt-4",variant:"secondary",children:"Reintentar"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-500 uppercase",children:"Vista Previa del Correo"}),h.jsxs(K,{variant:"ghost",onClick:g,className:m?"text-green-600":"text-blue-600",children:[m?h.jsx(Na,{size:18,className:"mr-1"}):h.jsx(fv,{size:18,className:"mr-1"}),m?"Copiado!":"Copiar Texto"]})]}),h.jsx("textarea",{className:"w-full h-64 p-4 bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-lg font-serif text-lg leading-relaxed text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:l,onChange:S=>u(S.target.value)}),h.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Este texto es editable. Revsalo antes de enviar."}),h.jsx("div",{className:"mt-8 flex justify-center",children:h.jsxs(K,{onClick:v,variant:"primary",isChristmas:x,className:"w-full md:w-1/2 py-3 text-lg",children:[h.jsx(nm,{className:"mr-2"})," Finalizar Proceso"]})})]})})]})]})},Mo=({children:e,allowedRoles:t})=>{const{currentUser:n}=w.useContext(kn);if(!n)return h.jsx(Jn,{to:"/login",replace:!0});if(t&&!t.includes(n.role))switch(n.role){case X.SUPER_ADMIN:return h.jsx(Jn,{to:"/superadmin",replace:!0});case X.ADMIN:return h.jsx(Jn,{to:"/admin",replace:!0});case X.ANALYST:return h.jsx(Jn,{to:"/checklist",replace:!0})}return h.jsx(Cv,{children:e})},rx=()=>{const{currentUser:e}=w.useContext(kn),t=()=>{if(!e)return"/login";switch(e.role){case X.SUPER_ADMIN:return"/superadmin";case X.ADMIN:return"/admin";default:return"/checklist"}};return h.jsxs(jy,{children:[h.jsx(pn,{path:"/login",element:e?h.jsx(Jn,{to:t()}):h.jsx(Sv,{})}),h.jsx(pn,{path:"/superadmin",element:h.jsx(Mo,{allowedRoles:[X.SUPER_ADMIN],children:h.jsx(xv,{})})}),h.jsx(pn,{path:"/admin",element:h.jsx(Mo,{allowedRoles:[X.ADMIN],children:h.jsx(_v,{})})}),h.jsx(pn,{path:"/checklist",element:h.jsx(Mo,{allowedRoles:[X.ANALYST],children:h.jsx(wv,{})})}),h.jsx(pn,{path:"/report",element:h.jsx(Mo,{allowedRoles:[X.ANALYST],children:h.jsx(nx,{})})}),h.jsx(pn,{path:"*",element:h.jsx(Jn,{to:"/login",replace:!0})})]})},ox=()=>h.jsx(iv,{children:h.jsx(sv,{children:h.jsx(nv,{children:h.jsx(rx,{})})})}),Mm=document.getElementById("root");if(!Mm)throw new Error("Could not find root element to mount to");const ix=ws.createRoot(Mm);ix.render(h.jsx(Dl.StrictMode,{children:h.jsx(ox,{})}));
